$MirOS$
--- mj.c.orig	Fri May  5 22:59:30 1989
+++ mj.c	Sat Jun 25 19:32:48 2016
@@ -33,6 +33,7 @@
 
 
 #include <stdio.h>
+#include <stdlib.h>
 #include <X11/Xos.h>
 #include <sys/ioctl.h>
 
@@ -244,11 +245,13 @@ char **argv;
     tp = (struct timeval *) malloc(sizeof(struct timeval));
     tz = (struct timezone *) malloc(sizeof(struct timezone));
     gettimeofday(tp, tz);
+#ifndef __OpenBSD__
 #if BSD_RANDOM
     (void) initstate((unsigned) (tp->tv_sec % 255), state, 256);
 #else
     (void) srand ((unsigned) (tp->tv_sec % 255));
 #endif
+#endif
     seed = RANDOM(20011);
     free(tp);
     free(tz);
@@ -680,7 +683,9 @@ boolean oldimage;
 
 	/* initialize random number counter */
 
+#ifndef __OpenBSD__
 	(void) srandom(seed);
+#endif
 
 	tile_count = 144;
 
@@ -711,7 +716,7 @@ boolean oldimage;
 		while (ok == FALSE) {
 			i = RANDOM(41);
 			/* Up, up, up! */
-			dir = random()&01;
+			dir = RANDOM(1);
 			while ((i < 42 || i >=0) && pool[i] == 0) (dir) ? i++ : i--;
 			if (i == 42 || i < 0) { /* Thud! Reverse march! */
 				i = RANDOM(41);
