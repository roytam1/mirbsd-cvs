$MirOS$
--- lib/ext2fs/flushb.c.orig	Sun Feb 13 16:28:37 2005
+++ lib/ext2fs/flushb.c	Sun Feb 13 16:29:11 2005
@@ -61,6 +61,9 @@ errcode_t ext2fs_sync_device(int fd, int
 		return errno;
 
 	if (flushb) {
+#if defined(__OpenBSD__)
+		sync();
+#else
 
 #ifdef BLKFLSBUF
 		if (ioctl (fd, BLKFLSBUF, 0) == 0)
@@ -77,6 +80,8 @@ errcode_t ext2fs_sync_device(int fd, int
  #warning FDFLUSH not defined
 #endif /* __GNUC__ */
 #endif
+
+#endif /* ndef __OpenBSD__ */
 	}
 	return 0;
 }
