$MirOS$
--- utils/cc/sub.c.orig	Thu Mar 30 21:57:18 2006
+++ utils/cc/sub.c	Thu Mar 30 22:17:56 2006
@@ -1015,7 +1015,9 @@ log2(uvlong v)
 	uvlong m;
 
 	s = 0;
-	m = MASK(8*sizeof(uvlong));
+#define	USIGN(n)		((uvlong)1<<(n-1))
+#define	UMASK(n)		(USIGN(n)|(USIGN(n)-1))
+	m = UMASK(8*sizeof(uvlong));
 	for(i=32; i; i>>=1) {
 		m >>= i;
 		if(!(v & m)) {
