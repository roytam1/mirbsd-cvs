$MirOS$
--- source/NetworkFunctions.cxx.orig	Mon Feb 21 20:12:29 2005
+++ source/NetworkFunctions.cxx	Sat Jun 11 21:33:48 2005
@@ -39,8 +39,8 @@
 #ifdef HAVE_ARPA_INET_H
 #include <arpa/inet.h> /* inet_ntoa */
 #include <sys/types.h> /* socket() */
-#include <net/if.h>
 #include <sys/socket.h>
+#include <net/if.h>
 #include <netinet/in.h>
 #include <sys/ioctl.h>
 #include<unistd.h>
@@ -96,11 +96,19 @@ vector<string> NetworkFunctions::getAllI
 		ifrp = (struct ifreq *)ptr;
 		sockaddr_ptr = (struct sockaddr_in *)&ifrp->ifr_ifru.ifru_addr;
 
+#ifdef BSD
+		res.push_back(string(ifrp->ifr_name));
+#else
 		res.push_back(string(ifrp->ifr_ifrn.ifrn_name));
 //		printf("%s: ",ifrp->ifr_ifrn.ifrn_name);
+#endif
 //		printf("%s\n",inet_ntoa(sockaddr_ptr->sin_addr.s_addr));
 
+#ifdef BSD
+		ptr += sizeof(ifrp->ifr_name) + len;
+#else
 		ptr += sizeof(ifrp->ifr_ifrn.ifrn_name) + len;
+#endif
 	} /* for */
 
 	/* release resources */
