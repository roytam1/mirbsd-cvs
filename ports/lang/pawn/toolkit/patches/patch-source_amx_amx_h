$MirOS$
--- source/amx/amx.h.orig	Fri Jan 25 16:46:01 2008
+++ source/amx/amx.h	Fri Aug  8 11:08:46 2008
@@ -33,7 +33,14 @@
 #if defined FREEBSD && !defined __FreeBSD__
   #define __FreeBSD__
 #endif
-#if defined __LINUX__ || defined __FreeBSD__ || defined __OpenBSD__
+#if defined(__APPLE__) || defined(__FreeBSD__) || defined(__INTERIX) || \
+    defined(__NetBSD__) || defined(__OpenBSD__)
+#include <sys/param.h>
+#ifndef BSD
+#define BSD 1
+#endif
+#endif
+#if defined __LINUX__ || defined BSD
   #include <sclinux.h>
 #endif
 
@@ -54,7 +61,7 @@
       #include <ppc/types.h>
       typedef unsigned short int  uint16_t;
       typedef unsigned long int   uint32_t;
-    #elif defined __FreeBSD__
+    #elif defined BSD
       #include <inttypes.h>
     #else
       typedef short int           int16_t;
@@ -220,7 +227,7 @@ typedef int (AMXAPI *AMX_IDLE)(struct ta
 #endif
 
 #if !defined AMX_NO_ALIGN
-  #if defined __LINUX__ || defined __FreeBSD__
+  #if defined __LINUX__ || defined BSD
     #pragma pack(1)         /* structures must be packed (byte-aligned) */
   #elif defined MACOS && defined __MWERKS__
 	#pragma options align=mac68k
@@ -474,7 +481,7 @@ int AMXAPI amx_UTF8Put(char *string, cha
   amx_Register((amx), amx_NativeInfo((name),(func)), 1);
 
 #if !defined AMX_NO_ALIGN
-  #if defined __LINUX__ || defined __FreeBSD__
+  #if defined __LINUX__ || defined BSD
     #pragma pack()    /* reset default packing */
   #elif defined MACOS && defined __MWERKS__
     #pragma options align=reset
