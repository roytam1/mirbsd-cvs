$MirOS$
--- tools/clang/lib/AST/Expr.cpp.orig	Thu Jan  1 00:00:00 1970
+++ tools/clang/lib/AST/Expr.cpp	Sun Nov  2 02:45:20 2008
@@ -30,9 +30,7 @@ using namespace clang;
 /// debugging dumps, etc.
 double FloatingLiteral::getValueAsApproximateDouble() const {
   llvm::APFloat V = getValue();
-  bool ignored;
-  V.convert(llvm::APFloat::IEEEdouble, llvm::APFloat::rmNearestTiesToEven,
-            &ignored);
+  V.convert(llvm::APFloat::IEEEdouble, llvm::APFloat::rmNearestTiesToEven);
   return V.convertToDouble();
 }
 
@@ -1032,10 +1030,8 @@ bool Expr::isIntegerConstantExpr(llvm::A
     // TODO: Warn on overflow, but probably not here: isIntegerConstantExpr can
     // be called multiple times per AST.
     uint64_t Space[4];
-    bool ignored;
     (void)FL->getValue().convertToInteger(Space, DestWidth, DestSigned,
-                                          llvm::APFloat::rmTowardZero,
-                                          &ignored);
+                                          llvm::APFloat::rmTowardZero);
     Result = llvm::APInt(DestWidth, 4, Space);
     break;
   }
