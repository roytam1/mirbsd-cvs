libgnomekbd offers an API to manage the keyboard in GNOME applications. 
