$MirOS: ports/net/djbdns/patches/patch-src_query_h,v 1.3 2009/05/30 21:52:28 tg Exp $
--- src/query.h.orig	Sun Feb 11 21:11:23 2001
+++ src/query.h	Sat Mar 26 16:55:53 2016
@@ -1,7 +1,7 @@
 #ifndef QUERY_H
 #define QUERY_H
 
-#include "dns.h"
+#include "qmerge.h"
 #include "uint32.h"
 
 #define QUERY_MAXLEVEL 5
@@ -14,16 +14,18 @@ struct query {
   char *name[QUERY_MAXLEVEL];
   char *control[QUERY_MAXLEVEL]; /* pointing inside name */
   char *ns[QUERY_MAXLEVEL][QUERY_MAXNS];
-  char servers[QUERY_MAXLEVEL][64];
+  char servers[QUERY_MAXLEVEL][512];
   char *alias[QUERY_MAXALIAS];
   uint32 aliasttl[QUERY_MAXALIAS];
-  char localip[4];
+  char ipv6[QUERY_MAXLEVEL];
+  char localip[16];
+  uint32 scope_id;
   char type[2];
   char class[2];
-  struct dns_transmit dt;
-} ;
+  struct qmerge *qm;
+};
 
-extern int query_start(struct query *,char *,char *,char *,char *);
+extern int query_start(struct query *,char *,char *,char *,char *,unsigned int);
 extern void query_io(struct query *,iopause_fd *,struct taia *);
 extern int query_get(struct query *,iopause_fd *,struct taia *);
 
