# $MirOS: ports/net/gabber/Makefile,v 1.4 2007/03/31 22:02:06 tg Exp $
# $OpenBSD: Makefile,v 1.5 2003/07/12 06:27:12 marcm Exp $
# $RuOBSD: Makefile,v 1.9 2002/10/28 16:01:41 grange Exp $

BROKEN=			needs updating to GNOME 2

COMMENT=			GNOME jabber client

DISTNAME=		gabber-0.8.7
CATEGORIES=		net x11/gnome

HOMEPAGE=		http://gabber.sourceforge.net/


# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=gabber/}

.ifndef BROKEN
LIB_DEPENDS=		sigc.0::devel/libsigc++ gal.19::devel/gal0 \
			gnomemm.9::x11/gnomemm \
			glade.5,glade-gnome.5::devel/libglade,gnome \
			gnomeprint.16::x11/gnome/print

B_R_DEPENDS=		:gnupg-*:security/gnupg \
			:scrollkeeper->=0.1.12:textproc/scrollkeeper
.endif

USE_X11=		Yes
USE_CXX=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--enable-ipv6

NO_REGRESS=		Yes

FLAVOURS=		xmms
FLAVOUR?=

.if ${FLAVOUR:L:Mxmms}
LIB_DEPENDS+=		xmms.3::audio/xmms
.else
CONFIGURE_ARGS+=	--disable-xmms
.endif

.include <bsd.port.mk>
