$MirOS: ports/www/firesomething/patches/patch-nsprpub_pr_tests_Makefile_in,v 1.7 2009/08/04 08:26:18 tg Exp $
--- mozilla/nsprpub/pr/tests/Makefile.in.orig	Tue Mar 24 22:58:33 2009
+++ mozilla/nsprpub/pr/tests/Makefile.in	Mon Aug  3 18:41:06 2009
@@ -412,6 +412,20 @@ endif
 LDOPTS += -Xlinker -R $(ABSOLUTE_LIB_DIR)
 endif
 
+ifeq ($(OS_ARCH),MidnightBSD)
+ifeq ($(USE_PTHREADS),1)
+LDOPTS += -pthread
+endif
+LDOPTS += -Xlinker -R $(ABSOLUTE_LIB_DIR)
+endif
+
+ifeq ($(OS_ARCH),MirBSD)
+ifeq ($(USE_PTHREADS),1)
+LDOPTS += -pthread
+endif
+LDOPTS += -Xlinker -R $(ABSOLUTE_LIB_DIR)
+endif
+
 ifeq ($(OS_ARCH),OpenBSD)
 ifeq ($(USE_PTHREADS),1)
 LDOPTS += -pthread
@@ -429,7 +443,7 @@ LIBPTHREAD = -lpthread
 ifeq ($(OS_ARCH),AIX)
 LIBPTHREAD = -lpthreads
 endif
-ifeq (,$(filter-out FreeBSD OpenBSD BSD_OS QNX Darwin OpenUNIX,$(OS_ARCH)))
+ifeq (,$(filter-out FreeBSD MidnightBSD MirBSD OpenBSD BSD_OS QNX Darwin OpenUNIX,$(OS_ARCH)))
 LIBPTHREAD =
 endif
 ifeq ($(OS_ARCH)$(basename $(OS_RELEASE)),HP-UXB.10)
