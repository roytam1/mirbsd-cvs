# OpenBSD config for networking on the Soekris Engineering net4501
# embedded system-
# chris@nmedia.net

machine         i386            # architecture, used by config; REQUIRED

#option		NTP		# hooks supporting the Network Time Protocol

option		DDB		# in-kernel debugger
#option		DDB_SAFE_CONSOLE # allow break into ddb during boot
#makeoptions	DEBUG="-g"	# compile full symbol table
#makeoptions	PROF="-pg"	# build profiled kernel
#option		GPROF		# kernel profiling, kgmon(8)
option		DIAGNOSTIC	# internal consistency checks
option		KTRACE		# system call tracing, a la ktrace(1)
#option		KMEMSTATS	# collect malloc(9) statistics

option		CRYPTO		# Cryptographic framework

option		FFS		# UFS
option		MFS		# Memory FS
#option		FFS_SOFTUPDATES	# Soft updates

option		TCP_SACK	# Selective Acknowledgements for TCP
#option		TCP_FACK	# Forward Acknowledgements for TCP
#option		TCP_SIGNATURE	# TCP MD5 Signatures, for BGP routing sessions

option		FDESC		# /dev/fd
option		FIFO		# FIFOs; RECOMMENDED
option		KERNFS		# /kern
#option		NULLFS		# loopback filesystem
option		PROCFS		# /proc
#option		UMAPFS		# NULLFS + uid and gid remapping

option		INET		# IP + ICMP + TCP + UDP
option		ALTQ		# ALTQ base
option		ALTQ_NOPCC	# We don't have Pentium features on 486....
#option		INET6		# IPv6 (needs INET)
#option		PULLDOWN_TEST	# use m_pulldown for IPv6 packet parsing
option		IPSEC		# IPsec
#option		PPP_BSDCOMP	# PPP BSD compression
#option		PPP_DEFLATE

option		BOOT_CONFIG	# add support for boot -c

option		I486_CPU
#option		I586_CPU
#option		I686_CPU

option		USER_PCICONF	# user-space PCI configuration

#option		KGDB		# Remote debugger support; exclusive of DDB
#option		"KGDB_DEVNAME=\"pccom\"",KGDBADDR=0x2f8,KGDBRATE=9600

#option		DUMMY_NOPS	# speed hack; recommended

maxusers	32		# estimated number of users

config		bsd	root on wd0a

mainbus0 at root

cpu0		at mainbus0 apid ?
bios0		at mainbus0 apid ?
pcibios0 at bios0 flags 0x0000	# use 0x30 for a total verbose

isa0	at mainbus0
isa0	at pcib?
pci*	at mainbus0 bus ?

# PIT clock runs at 1.189161 MHz instead of the standard 1.19318 MHz
# on the AMD Elan SC520
#
option		TIMER_FREQ=1189161

option		PCCOMCONSOLE
option		CONSPEED=19200

option		PCIVERBOSE

pchb*	at pci? dev ? function ?	# PCI-Host bridges
elansc*	at pci? dev ? function ?	# AMD Elan SC520 System Controller
gpio*	at elansc?

ppb*	at pci? dev ? function ?	# PCI-PCI bridges
pci*	at ppb? bus ?
pci*	at pchb? bus ?
pcib*	at pci? dev ? function ?	# PCI-ISA bridge

npx0	at isa? port 0xf0 irq 13	# math coprocessor
isadma0	at isa?

#pcppi0		at isa?
#sysbeep0	at pcppi?

pccom0	at isa? port 0x3f8 irq 4	# standard PC serial ports
pccom1	at isa? port 0x2f8 irq 3

wdc0	at isa? port 0x1f0 irq 14 flags 0x00

wd*	at wdc? channel ? drive ? flags 0x0000

sis*	at pci? dev ? function ?		# SiS 900/7016 ethernet

nsphyter*	at mii? phy ?			# NS and compatible PHYs

# crypto support
hifn*	at pci? dev ? function ?	# Hi/fn 7751 crypto card

# Wireless network cards
#wi*	at pci? dev ? function ?	# MiniPCI wireless card

#pseudo-device	pctr		1

pseudo-device	crypto		1
pseudo-device	ksyms		1
pseudo-device	systrace	1

pseudo-device	pf		# packet filter
pseudo-device	pflog		# pf log if
pseudo-device	pfsync		# pf sync if
pseudo-device	loop	2	# network loopback
pseudo-device	bpfilter 16	# packet filter
#pseudo-device	sl	2	# CSLIP
#pseudo-device	ppp	2	# PPP
pseudo-device	tun	2	# network tunneling over tty
pseudo-device	enc	1	# IPSEC encapsulating interface
pseudo-device	bridge	2	# network bridging support
pseudo-device	vlan	32	# IEEE 802.1Q VLAN
pseudo-device	gre	4	# GRE encapsulation interface
#pseudo-device	strip	1	# Starmode Radio IP interface

pseudo-device	pty	32	# pseudo-terminals

# for IPv6
pseudo-device	gif	4	# IPv[46] over IPv[46] tunnel (RFC1933) 
#pseudo-device	faith	1	# IPv[46] tcp relay translation i/f
