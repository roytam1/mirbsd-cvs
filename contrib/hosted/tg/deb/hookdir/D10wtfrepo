#!/bin/sh
# $MirOS: contrib/hosted/tg/deb/hookdir/D10wtfrepo,v 1.2 2014/12/12 21:52:45 tg Exp $
#-
# Not complicated enough for copyright.

unset LANGUAGE
LC_ALL=C; export LC_ALL

d=${DIST%/*}
d=${d%-backports*}
case $d in
(etch|lenny|wheezy|jessie|sid)
	;;
(*)
	echo >&2 W: D10wtfrepo: ignoring unknown DIST "'$DIST'"
	exit 0
	;;
esac

# Import 2014 key
apt-key add - <<'EOF'
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.4.14 (MirBSD)

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
L4kyifUi/+7jMcTqJlskFTwXi07FUVBB3JeAZzw=
=XR3i
-----END PGP PUBLIC KEY BLOCK-----
EOF

# Import 2015 key
apt-key add - <<'EOF'
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.4.14 (MirBSD)

mQGNBFSNsycBDADQdl54UXf9oXNjOSjwnzopJbeaK5CJ8tvotnVv69KUg0VGUzkx
lndV8rBvg8mWnRq8hWeEQNw0Yt2TDt1kg/cuo3NX+1xrMcfFyeeXxQhFewkd9SSO
71EnGaG1NnHytzFx1olcs74aOzXAvyIson86dvwp1oSKrFeyvVpY7X7eltzkeM9X
2bpmNWl06NjmgLg5Pmboh6EGAQh6Zpk4zVl5nC1Gq0lYYnYuJNHoSwA3RQCH3zST
Im8gKh98smZ8dVaOK7rWzQvSQiWXpkZ2fzWsF4e2sNbwCW+FWHLHM89BLJiPO4k0
wEEkBWguYCpddUMWwfmewWzxFU8fjhxiTq31MJSrt4r5LLwh0N1GGQXp2soCmsAN
gT1qIV3UUJb3Ion/0iiQSqCnDNZjFlaGziPIiezU4pavOl7+fUy0vq4RXac8f2TJ
fda8Hk3uNRRlQAlcMc00mn0a3rdYFGGempitl29c3C4GarD7M3sXwcR/0xBDJnkQ
ZRVTfNFYB91BpJEAEQEAAYkBtwQfAQkAIQUCVI2zJxcMgAGQMZVeepek/aMrK4Z2
tTSy6ZAH4AIHAAAKCRAwwGD6ILJPR7KlC/9aNtjsuWCnLC8s4h+m5bJBvciLci14
0/JNOkj9982r6ijtrorcu0krpkZV2uZlrWy6veER6uMMjKynKY8HD0KSkTZu6XJ+
YYf4tAjaEsr+AOQIIZuuKUR1XT9tMJ9uQwZ/ZIXtGz6sulYmkvi+0dQpzLI7YfoW
83PfujnBopU3CyMJR63eAlkmJBo/QWwrB4XEfGVZ765H5j/wMxb5Vzr8s/ZpGzQ6
KDWYIHO49A7ShGGAq8oSAJbtqtBLkVCw63l1/CetPFBQMKnsZNUie0s04gOUvMBn
oWp6+KL3RjWLsDV62/yHJfjATQ56UmgQztYbqc3VFDIQrO9c+reAItnNdNxdXjob
+c0ixCT4SYCas73Y9fi5fV5D3Lx/aIcBJmKONSfYcizkdDAs0eZpRbbdpggEaiBV
2XFcMYrMDq3ZOsSn3/YTpYTn+ZT+jQB/Bf75nzZvNWPIKaeu5lw2ClcOdZ5z7r37
DY2VSfUYLGbuXaPA37Bu0IhpRIfQULO4num0MVNpZ25pbmcga2V5IDIwMTUgZm9y
IOKAnFdURuKAnSBwYWNrYWdlIHJlcG9zaXRvcnmJAdEEEwEJADsFAlSNsycCGwMF
CQW7xvIFCwgECQcFFQkKAwgDFgIAAh4BAheAFRhoa3A6Ly9wZ3Auc3VyZm5ldC5u
bAAKCRAwwGD6ILJPR3AMC/9Q2lXxARjdmZ+99/0zv5I/PFlUIY402uH0ryajIzZ6
yCIbw85n32IE66BRs2YSyVDv9yK58btAx1zuvTM3HxkVHt76lQcVEPRSZnJKJErI
J6h27nj5HDsJDs9dq3BK4xcN/Qv+YMtbNg7Rr0x3bYR7+vRTiNvnVIaqe78AvDfm
zRgkAuUckbcyprSxB5wcMolPJsePDeWXNEsOHqMEQ5Kud2az7shCam361PtUHDHp
nJD9piSzb7JnConxbkvMp+ulEfQyUYI+XMBOpGT+d+dyVnhgXy+StcS5lV8rEUYy
DXKTpHI1AzJrdRpH1NgHz+r4GbRHbJ/gH2TbtXPq7mCswlVdzcTLZiQD/0TG4UZP
gENBqZrRjMxIywm04sv4UjybIwHJikeYNMgmlk8hWKdt5mvIioBTxq6r8BifbA/1
nBSnBj7EHBDFcWHKwfmXf8DEaznk8tPPLAJ5ZPv3HkqfPYBBvXJ26gQN/TzXM24p
sptjizYTgjcFMaB/hIYnoNM=
=Ar55
-----END PGP PUBLIC KEY BLOCK-----
EOF

cat >>/etc/apt/sources.list <<EOF
deb http://www.mirbsd.org/~tg/Debs/ $d wtf
EOF

apt-get update
apt-get -y --purge dist-upgrade
