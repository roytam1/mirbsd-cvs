# $MirOS: www/files/.htaccess,v 1.16 2013/11/27 22:15:52 tg Exp $

#Options ExecCGI Indexes FollowSymLinks
IndexOptions -FancyIndexing
AddHandler cgi-script .cgi
DirectoryIndex main.htm

# redirects for legacy links (mod_alias cannot inspect query strings)
RewriteEngine On
RewriteCond %{QUERY_STRING} ^([^/]+)$
RewriteRule ^(index.php)?$ /~tglaser/MirBSD/%1.htm? [R=301,L]

# file types
AddType 'text/html; charset=utf-8' htm
AddType 'text/html' html
AddType 'application/octet-stream' bz2 dsc fs rd ISO iso gz cgz ngz tgz Z
AddType 'text/plain; charset=cp437' asc
AddType 'text/plain; charset=utf-8' txt
AddType 'application/x-x509-ca-cert' cer
AddType 'application/metalink+xml' metalink
AddType 'application/rss+xml; charset=utf-8' rss

# serve XHTML stuff as text/html by default, but upgrade
# to application/xml+xhtml if the client requests it
RewriteEngine On
RewriteCond %{HTTP_ACCEPT} application/xhtml\+xml
RewriteCond %{HTTP_ACCEPT} !application/xhtml\+xml\s*;\s*q=0
RewriteCond %{THE_REQUEST} HTTP/1\.1
RewriteRule \.htm$ - [T=application/xhtml+xml]

# forced text files
<Files LICENCE>
  ForceType 'text/plain; charset=utf-8'
</Files>

<Files ISC-Licence>
  ForceType 'text/plain; charset=utf-8'
</Files>

<Files MirOS-Licence>
  ForceType 'text/plain; charset=utf-8'
</Files>

<Files MirOS-Licence.asc>
  ForceType 'text/plain; charset=ISO_646.irv:1991'
</Files>

<Files UP>
  ForceType 'text/plain; charset=utf-8'
</Files>

<Files acronyms>
  ForceType 'text/plain; charset=utf-8'
</Files>

# "hidden" files
<Files cvsweb.conf>
  Order deny,allow
  Deny from all
</Files>
