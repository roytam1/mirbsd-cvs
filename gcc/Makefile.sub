# $MirOS: gcc/Makefile.sub,v 1.9 2005/04/26 22:36:52 tg Exp $

.ifdef COMPILER_ONLY

  SUBDIR+= gcc
.  if !make(install)
  SUBDIR+= libada
.  endif

.  include "${.CURDIR}/Makefile.inc"

.  ifdef NO_ADA
  SKIPDIR+= libada
.  endif

.else

.  include "${.CURDIR}/Makefile.inc"

  SUBDIR+= boehm-gc
  SUBDIR+= fastjar
  SUBDIR+= gcc
  SUBDIR+= libada
  SUBDIR+= libffi
# SUBDIR+= libjava
  SUBDIR+= libobjc
  SUBDIR+= libstdc++-v3

prereq: _SUBDIRUSE

.  if make(install)
  SKIPDIR+= boehm-gc
  SKIPDIR+= libada
  SKIPDIR+= libffi
.  endif

.  ifdef NO_ADA
  SKIPDIR+= libada
.  endif

.  ifdef NO_CXX
  SKIPDIR+= libstdc++-v3
.  endif

.  if defined(NO_OBJC) && defined(NO_JAVA)
  SKIPDIR+= boehm-gc
.  endif

.  ifdef NO_OBJC
  SKIPDIR+= libobjc
.  endif

NO_JAVA=XXX
.  ifdef NO_JAVA
  SKIPDIR+= fastjar
  SKIPDIR+= libffi
  SKIPDIR+= libjava
.  endif

.endif

.if defined(SUBONLY) && !empty(SUBONLY)
  SUBDIR:= ${SUBONLY}
  SKIPDIR:= #empty
.endif

.include <bsd.obj.mk>
.include <bsd.subdir.mk>
