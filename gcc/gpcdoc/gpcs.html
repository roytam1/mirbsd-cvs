<html lang="en">
<head>
<title>GNU Pascal Coding Standards</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="GNU Pascal Coding Standards">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
GNU Pascal Coding Standards

   <p>Copyright (C) 2001-2006 Free Software Foundation, Inc.

   <p>Permission is granted to make and distribute verbatim copies of this
manual provided the copyright notice and this permission notice are
preserved on all copies.

   <p>Permission is granted to copy and distribute modified versions of
this manual under the conditions for verbatim copying, provided that
the entire resulting derived work is distributed under the terms of
a permission notice identical to this one.

   <p>Permission is granted to copy and distribute translations of this
manual into another language, under the above conditions for
modified versions, except that this permission notice may be stated
in a translation approved by the copyright holders.

<div class="node">
<p><hr>
<a name="Top"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Preface">Preface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Version</h2>

<p>Last updated 2006-02-02.

<ul class="menu">
<li><a accesskey="1" href="#Preface">Preface</a>:                  About the GNU Pascal Coding Standards
<li><a accesskey="2" href="#Legal-Issues">Legal Issues</a>:             Keeping Free Software Free
<li><a accesskey="3" href="#Design-Advice">Design Advice</a>:            General Program Design
<li><a accesskey="4" href="#Program-Behavior">Program Behavior</a>:         Program Behavior for All Programs
<li><a accesskey="5" href="#Writing-Pascal">Writing Pascal</a>:           Making The Best Use of Pascal
<li><a accesskey="6" href="#Documentation">Documentation</a>:            Documenting Programs
<li><a accesskey="7" href="#Managing-Releases">Managing Releases</a>:        The Release Process
<li><a accesskey="8" href="#Glossary">Glossary</a>:                 Glossary of words used throughout this text
<li><a accesskey="9" href="#Index">Index</a>
</ul>

<div class="node">
<p><hr>
<a name="Preface"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Legal-Issues">Legal Issues</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 About the GNU Pascal Coding Standards</h2>

<p>The GNU Pascal Coding Standards were designed by a group of GNU
Pascal project volunteers. The aim of this document is extending the
GNU Coding Standards with specific information relating Pascal
programming. As a matter of fact, the information contained in the
GNU Coding Standards mainly pertains to programs written in the C
language. On the other hand, they also explain many of the rules and
principles that are useful for writing portable, robust and reliable
programs. Most of those general topics could be shared with this
document with just a few specific notes, thus cross references are
provided which will lead you to the more extensive information
contained in the GNU Coding Standards.

   <p>This release of the GNU Pascal Coding Standards was last updated
2006-02-02.

   <p><a name="index-where-to-obtain-the-GPCS-1"></a><a name="index-downloading-the-coding-standards-2"></a>
The GNU Pascal Coding Standards are available as part of the GPC
distribution &ndash; in binary distributions as info files, in source
distributions also as Texinfo files from which further formats such
as HTML, PostScript and PDF can be generated. An HTML version is
also available on GPC's home page, <a href="http://www.gnu-pascal.de">http://www.gnu-pascal.de</a>.

   <p><a name="index-feedback-3"></a><a name="index-contributions-to-this-manual-4"></a>
Corrections or suggestions for this document should be sent to the GNU
Pascal Compiler Documentation mailing list, <a href="mailto:gpc-doc@gnu.de">gpc-doc@gnu.de</a>. If
you make a suggestion, please include a suggested new wording for it;
our time is limited. A context diff to the &ldquo;source&rdquo; Texinfo file
would be very appreciated, if at all possible. If you can't provide the
context diff, please feel free to mail your suggestion anyway.

   <p>These people are the tyrants who are imposing their coding style to the
community so far: Peter Gerwinski `<samp><span class="samp">peter(at)gerwinski.de</span></samp>', Frank
Heckenbach `<samp><span class="samp">frank(at)pascal.gnu.de</span></samp>', Markus Gerwinski
`<samp><span class="samp">markus(at)gerwinski.de</span></samp>', Dominik Freche
`<samp><span class="samp">dominik.freche(at)gmx.net</span></samp>', Nicola Girardi
`<samp><span class="samp">nicola(at)g-n-u.de</span></samp>'.

<div class="node">
<p><hr>
<a name="Legal-Issues"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Design-Advice">Design Advice</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Preface">Preface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Keeping Free Software Free</h2>

<p><a name="index-legal-aspects-5"></a>
This chapter from the GNU Coding Standards discusses how you can make
sure that GNU software avoids legal difficulties, and other related
issues. See <a href="standards.html#Intellectual-Property">Intellectual Property</a>.

<div class="node">
<p><hr>
<a name="Design-Advice"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Program-Behavior">Program Behavior</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Legal-Issues">Legal Issues</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 General Program Design</h2>

<p><a name="index-program-design-6"></a>
This chapter discusses some of the issues you should take into account
when designing your program.

<ul class="menu">
<li><a accesskey="1" href="#Source-Language">Source Language</a>:              Which language to use
<li><a accesskey="2" href="#Pascal-and-C">Pascal and C</a>:                 Linking to C libraries
<li><a accesskey="3" href="#Using-Extensions">Using Extensions</a>:             Using non-standard features
</ul>

<div class="node">
<p><hr>
<a name="Source-Language"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Pascal-and-C">Pascal and C</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Design-Advice">Design Advice</a>

</div>

<h3 class="section">3.1 Which Language to Use</h3>

<p><a name="index-programming-languages-7"></a>
We support the idea that a variety of programming languages is a good
thing and that different languages are appropriate for different kinds
of tasks. Unlike the GNU Coding Standards (see <a href="standards.html#Source-Language">Source Language</a>), we do not try to persuade you to use C, Pascal or any
single language for everything.

   <p>If you're reading this, you have probably already decided to use Pascal
for some project or are considering using it. This documentation will
suggest you <em>how</em> to format your Pascal code when you do so.

<div class="node">
<p><hr>
<a name="Pascal-and-C"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Using-Extensions">Using Extensions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Source-Language">Source Language</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Design-Advice">Design Advice</a>

</div>

<h3 class="section">3.2 Linking to C libraries</h3>

<p><a name="index-Pascal-and-C-8"></a><a name="index-linking-to-C-libraries-9"></a>
You can link a C library or C object code to your Pascal program or
unit. Please note the description in the GPC manual on how to do so
(see <a href="gpc.html#Other-Languages">Other Languages</a>).

   <p><a name="index-wrappers-10"></a>In particular, to access C libraries, we strongly recommend using C
wrappers. This is a portability issue. There might be changes in
different versions of the library which might affect direct
`<samp><span class="samp">external</span></samp>' declarations in Pascal code. You should update the
wrappers so that Pascal programs or units work with whatever version
of the library you have.

   <p>There are times when you deal with large packages and you can't easily
retain compatibility to different versions of the packages themselves. 
In this case, you can link directly to the library you're going to work
with, and link a supplementary C file which does nothing but the version
check. This is an example:

<pre class="smallexample">     #include &lt;foo.h&gt;
     #if FOO_MAJOR != 1 || FOO_MINOR != 2
     #error The GPC interface for libfoo was only written for libfoo-1.2.
     #error Please get libfoo-1.2 or check for a version of the GPC interface
     #error matching your version of libfoo.
     #endif
</pre>
   <p>Note the use of `<samp><span class="samp">!=</span></samp>' instead of `<samp><span class="samp">&lt;</span></samp>' or `<samp><span class="samp">&gt;</span></samp>', to
perform a very strict version check. Please keep in mind that this
is alright if there is only one implementation of a library, i.e.,
you can do this with GTK, but you can't with libc, libm, curses etc.

   <p><a name="index-header-translator-11"></a>An automatic header translator is planned which would make the C
wrappers superfluous. This is a highly non-trivial job and it's not
sure that it's at all possible, so it will at least take some time to be
available.

   <p><a name="index-C-code-compilation-12"></a>You can assume the GNU C Compiler is used to compile the wrappers and,
in general, any C code snippet you link to your Pascal code. The reason
for such an assumption is that only GNU C Compiler is guaranteed to have
all conventions compatible to GNU Pascal Compiler on every platform they
run on, as they share the same backend. Also, The GNU Pascal Compiler
is always built together with the GNU C Compiler, so `<samp><span class="samp">gcc</span></samp>' can be
assumed to be available wherever `<samp><span class="samp">gpc</span></samp>' is.

<div class="node">
<p><hr>
<a name="Using-Extensions"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Pascal-and-C">Pascal and C</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Design-Advice">Design Advice</a>

</div>

<h3 class="section">3.3 Using Non-standard Features</h3>

<p><a name="index-non_002dstandard-extensions-13"></a>
Many GNU Pascal facilities are provided which extend the standard Pascal
language. Whether to use these extensions in implementing your program
is a tedious question.

   <p>On the one hand, using the extensions can make a cleaner program. On
the other hand, people will not be able to build the program unless the
GNU Pascal Compiler is available. This might cause the program
not to compile with other compilers.

   <p>In general, it is best to retain compatibility to other compilers or to
the language standards, <em>if this compatibility is easy to achieve</em>. 
In general, sadly enough, to achieve compatibility you get considerable
drawbacks. For example, you might have to add lots of
`<samp><span class="samp">{$ifdef}</span></samp>'s to cater for some non-standard compilers, which make
the code harder to read, write, test and maintain. Moreover,
`<samp><span class="samp">{$ifdef}</span></samp>'s themselves are non-standard extensions, so you don't
win much this way.

   <p>In the end, we suggest not to bother too much about compatibility. All
of the GNU Pascal Compiler interfaces (compiler and Run Time System) are
open. This means they can be implemented for other compilers when
needed or even the same sources can be used provided the license is
preserved (read more about the GNU General Public License at
<a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a>), rather than crippling the
code by not using the extended features. A (limited) example of this
strategy is in the `<samp><span class="samp">gpc-bp</span></samp>' unit for Borland Pascal, distributed
with the GNU Pascal Compiler. You might want to look at its interface
to see what exactly it contains. It's easy to extend it by more
compatibility features when needed, though there are features that
cannot easily be emulated (in particular those that have a special
syntax).

   <p>Please do not use the following features, especially the ones that were
implemented just for backward compatibility:

     <ul>
<li>the `<samp><span class="samp">(* *)</span></samp>' comments for old terminals where the `<samp><span class="samp">{</span></samp>' and
`<samp><span class="samp">}</span></samp>' characters were not available

     <li>the `<samp><span class="samp">#</span></samp>' directives and the `<samp><span class="samp">//</span></samp>' comments, as in C/Delphi. If a
file must also be used in C, it may use `<samp><span class="samp">#</span></samp>' directives, the C syntax
in conditionals, and `<samp><span class="samp">//</span></samp>' comments. An example (as of this
writing, might change in the future) is <samp><span class="file">p/rts/constants.h</span></samp> in the
GNU Pascal Compiler sources.

     <li>the misuse of typed constants as variables, which is a misfeature of
Borland Pascal.

     <li>`<samp><span class="samp">^A</span></samp>' character constants. Use `<samp><span class="samp">#1</span></samp>' or `<samp><span class="samp">Chr (1)</span></samp>',
instead.

     <li>`<samp><span class="samp">CString</span></samp>'s (except for C interfaces, of course)

     <li>complicated Borland Pascal code like the following instead of using
`<samp><span class="samp">WriteStr</span></samp>':

     <pre class="smallexample">          Str (Foo, s);
          s := 'Hello ' + s;
     </pre>
     <li>most cases of `<samp><span class="samp">FillChar</span></samp>' and `<samp><span class="samp">Move</span></samp>', except for low-level code
and when applied to the characters within a string. Using:

     <pre class="smallexample">          FillChar (s, SizeOf (s), 0);
     </pre>
     <p>to clear a string, is wrong in GNU Pascal and inefficient even in
Borland Pascal, since the following could be used:

     <pre class="smallexample">          s := '';
     </pre>
     <p>This would only clear the length field of the string `<samp><span class="samp">s</span></samp>'.

     <li>most cases of `<samp><span class="samp">GetMem</span></samp>' and `<samp><span class="samp">FreeMem</span></samp>' &ndash; usually they are a
work-around for missing schemata in other compilers.

     <li>many cases of untyped parameters

     <li>most hand-made file name related routines. (When written in Borland
Pascal, they're usually only applicable to DOS, while the routines in
the `<samp><span class="samp">GPC</span></samp>' unit provide portable alternatives for most stuff.)

     <li>assembler code, except in very small areas for special optimization,
surrounded by a specific `<samp><span class="samp">{$ifdef}</span></samp>' (for example, for the
processor type). But then, provide an equivalent plain Pascal version
in the `<samp><span class="samp">{$else}</span></samp>' part &ndash; and test it!

     <li>anything that requires the `<samp><span class="samp">System</span></samp>' unit

     <li>assumption of type-sizes

     <li>assumption of endianness (some systems have higher and lower valued
bytes in a different order than other systems; please see the
glossary See <a href="#Glossary">Glossary</a>, for an explanation)

     <li>identifiers starting or ending with underscores or having several
adjacent underscores

     <li>units only written for Borland Pascal compatibility. (see <a href="GPC.html#GPC-Units">GPC Units</a>) Note, `<samp><span class="samp">CRT</span></samp>' and `<samp><span class="samp">Printer</span></samp>' are not only for
Borland Pascal compatibility, but also for general use.

   </ul>

   <p>The GNU Coding Standards have nice statements on this topic. 
See <a href="standards.html#Using-Extensions">Using Extensions</a>.

<div class="node">
<p><hr>
<a name="Program-Behavior"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Writing-Pascal">Writing Pascal</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Design-Advice">Design Advice</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Program Behavior for All Programs</h2>

<p>This chapter from the GNU Coding Standards describes conventions for
writing robust software. It also describes general standards for error
messages, the command line interface, and how libraries should behave. 
We encourage you to read that part of the GNU Coding Standards. 
See <a href="standards.html#Program-Behavior">Program Behavior</a>.

   <p>Here are special notes for Pascal programming, anyway.

   <p><a name="index-signal-functions-14"></a>The choice between signal functions, discussed in the GNU Coding
Standards, is done in the Run Time System so you needn't care about it.

   <p><a name="index-error-checks-15"></a>Another discrepancy with the GNU Coding Standards is the default
behavior for error checks that detect &ldquo;impossible&rdquo; conditions. We
don't suggest just aborting. This implies that every user can be a
programmer, but we don't believe this is realistic. Our advice is to
print a reasonable error message so that users can report bug
descriptions to programmers who didn't notice the bug themselves or
could not reproduce it.

   <p>Also, the GNU Coding Standards suggest checking every system call for an
error return. That applies to C. In Pascal, error checking is often
automatic, thus you needn't bother with error checking. Many I/O
routines don't return a value (for example, `<samp><span class="samp">Reset</span></samp>'), but those
that do should usually be checked.

   <p>Of course you can disable automatic error checks and see to them for
yourself. In fact, some errors might cause the program to
automatically abort with an error message. Instead, especially in
units or modules, you might want to report errors and give the user
a chance to intervene and fix things up. To do so, you must use the
`<samp><span class="samp">{$I-}</span></samp>' compiler directive, and check the value of
`<samp><span class="samp">IOResult</span></samp>' (see <a href="gpc.html#IOResult">IOResult</a>) or the global error
variables such as `<samp><span class="samp">InOutRes</span></samp>' (see <a href="gpc.html#InOutRes">InOutRes</a>). Note
that I/O routines return immediately if `<samp><span class="samp">InOutRes</span></samp>' is set, so
it's not necessary to check it after each operation, so the
following is possible:

<pre class="smallexample">     {$local I-}
     Rewrite (f, 'bla');
     WriteLn (f, 'foo');
     WriteLn (f, 'bar');
     WriteLn (f, 'baz');
     Close (f);
     {$endlocal}
     if InOutRes &lt;&gt; 0 then
       begin
         WriteLn (StdErr, GetIOErrorMessage);
         ...
       end;
</pre>
   <p>However in your code you might want to also check `<samp><span class="samp">Rewrite</span></samp>' and
other opening calls, which are the most likely to fail, and you will
avoid unnecessary further calls.

   <p>There is a set of routines in the GPC unit for naming temporary files,
configuration files and many other file name related stuff. The
advantages of using these are that they work for different kinds of
systems (for example Unix and DOS), and that future problems can be
corrected in one place in the Run Time System rather than in several
different programs or units.

   <p>As far as libraries are concerned, we suggest that you don't put each
routine in a separate file. Hopefully someday the GNU Pascal Compiler
will do this automatically on the linker level. At the moment, we
believe that the convenience to the programmer is much more important
than binary size. We also recommend not using a name prefix, as name
conflicts can be resolved by qualified identifiers
(`<samp><span class="samp">UnitName.RoutineName</span></samp>').

<div class="node">
<p><hr>
<a name="Writing-Pascal"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Documentation">Documentation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Program-Behavior">Program Behavior</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Making The Best Use of Pascal</h2>

<p>This chapter provides advice on how best to use the Pascal language when
writing software. Of course, the rules apply to published code
only &ndash; if you for example want to comment things out with old style
comments like `<samp><span class="samp">(* this one *)</span></samp>', you should do it temporarily and
remove it before distributing your code. But since you never know if
and when you are going to publish your code, it's a good idea to stick
to the rules from the beginning.

<ul class="menu">
<li><a accesskey="1" href="#Assorted-Tips">Assorted Tips</a>:                Assorted Pascal Programming Tips
<li><a accesskey="2" href="#Consistency-Checking">Consistency Checking</a>:         Using <code>Assert</code> to abort if
                                something ``impossible'' happens. 
<li><a accesskey="3" href="#Formatting">Formatting</a>:                   Formatting Your Source Code
<li><a accesskey="4" href="#Comments">Comments</a>:                     Commenting Your Work
<li><a accesskey="5" href="#Order">Order</a>:                        Order of Code Blocks
<li><a accesskey="6" href="#Capitalization">Capitalization</a>:               Capitalization
<li><a accesskey="7" href="#Compiler-Directives">Compiler Directives</a>:          Use of Compiler Directives
<li><a accesskey="8" href="#Spacing">Spacing</a>:                      How to use spaces in your code
<li><a accesskey="9" href="#Line-Breaks">Line Breaks</a>:                  Where to break your lines of code
<li><a href="#Strings">Strings</a>:                      Strings
<li><a href="#Internationalization">Internationalization</a>:         Techniques for internationalization
<li><a href="#MemoryMap">MemoryMap</a>:                    How you can safely use `<samp><span class="samp">MemoryMap</span></samp>'
</ul>

<div class="node">
<p><hr>
<a name="Assorted-Tips"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Consistency-Checking">Consistency Checking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.1 Assorted Pascal Programming Tips</h3>

<p><a name="index-assorted-tips-16"></a>
Pascal code file names should have the `<samp><span class="samp">.pas</span></samp>' suffix. The file
name without the suffix should usually correspond to the name of the
program/unit/module, but all in lower case. There should be only one
program/unit/module in a file.

   <p>Code must compile with the `<samp><span class="samp">-Wall</span></samp>' flag, with and without the
`<samp><span class="samp">-O3</span></samp>' flag with no warnings. (See <a href="#Compiler-Directives">Compiler Directives</a>, for
how to intentionally disable certain warnings if really necessary.)

   <p>Don't use the automatic `<samp><span class="samp">Result</span></samp>' variable in functions. If you
want one, just declare it:

<pre class="smallexample">     function Foo (...) = Bar: Integer;
</pre>
   <p>Use the declaration with `<samp><span class="samp">=</span></samp>', not without it, unless you want to be
strictly PXSC compatible.

   <p>If a function returns a `<samp><span class="samp">Boolean</span></samp>' to indicate success, `<samp><span class="samp">True</span></samp>'
should mean success and `<samp><span class="samp">False</span></samp>' failure, unlike some C routines
where `<samp><span class="samp">0</span></samp>' means success.

   <p>Avoid `<samp><span class="samp">goto</span></samp>' and similar statements, like `<samp><span class="samp">Exit</span></samp>',
`<samp><span class="samp">Return</span></samp>', `<samp><span class="samp">Break</span></samp>', `<samp><span class="samp">Continue</span></samp>'. Avoid `<samp><span class="samp">goto</span></samp>' at any
price (except <em>possibly</em> a non-local `<samp><span class="samp">goto</span></samp>' to return from
<em>deeply</em> nested, recursive functions in case of error). Avoid the
others if this is possible with reasonable effort. If it would require
an additional `<samp><span class="samp">Boolean</span></samp>' variable, this counts as an excuse for
using those statements if you really want. Note that often, code
becomes significantly <em>simpler</em> by not using `<samp><span class="samp">Break</span></samp>' etc. and
instead using a better loop condition or a different kind of loop.

   <p>Never modify `<samp><span class="samp">for</span></samp>' loop counters, or rely on their value after the
loop. (Well, that's not merely a coding style, that's the definition of
Pascal. Doing such things will produce undefined results.)

   <p>Never rely on undefined behavior. For example, that global variables
seem to be initialized to `<samp><span class="samp">0</span></samp>' at the start of the program, or
perhaps sometimes newly allocated memory seems to be initialized, or
memory after deallocation still seems to hold some values, or that
`<samp><span class="samp">for</span></samp>' loop counters seem to have a certain value after the
loop &ndash; none of these is guaranteed, and the behaviour may change
when you change compiler or its version, or when you change
platform. Undefined means undefined, and the fact that such things
might seem to work on all systems you have checked and with 42 other
compilers means exactly nothing.

   <p>In comparisons put the &ldquo;more variable&rdquo; expression on the left side:

<pre class="smallexample">     for i := 1 to 10 do
       if a[i] = Foo then
         for j := 1 to 10 do
           if b[j] = a[i] then ...
</pre>
   <p>Considering the second line of the above example, the expression on
the left (<code>a[i]</code>) varies each turn, but the right side
(<code>Foo</code>) does not. (In this case we assume that <code>Foo</code> is a
constant or a function which doesn't depend on <code>i</code> or some
other global data. Otherwise it might make sense to put <code>Foo</code>
on the left, and perhaps use an extra comment to point this out.)

   <p>The last line of the above example might look strange, because
<code>b[j]</code> and <code>a[i]</code> might look as though they have the same
level of &ldquo;variableness&rdquo;. But in fact, <code>j</code> ranges more often
than <code>i</code>, i.e. each time <code>i</code> changes, <code>j</code> has already
changed 10 times.

   <p>Avoid code duplication. It is easy to copy the code, but it becomes a
maintenance nightmare to change several similar places. Use routines or
subroutines, units or modules, whatever. Plan each part of the code
so that it can be extended. Don't pull too clever tricks in places
that will likely be changed later.

   <p>Do not surround single statements with `<samp><span class="samp">begin</span></samp>' and `<samp><span class="samp">end</span></samp>',
unless you have to avoid the dangling else problem or the single line
statement forms a whole routine body! See the following examples:

<pre class="smallexample">     if foo then
       begin
         if bar then
           baz
       end  { Avoid the dangling else problem. }
     else
       qux  { Single line statement. }
</pre>
   <p>Do not write empty unit initializers. This is what <em>not</em> to do:

<pre class="smallexample">     ...
     
     procedure Foo;
     begin
       ...
     end;
     
     begin
     end.
</pre>
   <p>Instead, simply:

<pre class="smallexample">     ...
     
     procedure Foo;
     begin
       ...
     end;
     
     end.
</pre>
   <p>Do not write unused declarations, unless in interfaces which are meant
to be used by the importer.

   <p><a name="index-booleans-17"></a>Remember that `<samp><span class="samp">Boolean</span></samp>'s are `<samp><span class="samp">Boolean</span></samp>'s. Please use `<samp><span class="samp">if
Foo then</span></samp>' instead of `<samp><span class="samp">if Foo = True then</span></samp>', and `<samp><span class="samp">if not Foo
then</span></samp>' instead of `<samp><span class="samp">if Foo = False then</span></samp>'. Also, use `<samp><span class="samp">until
False</span></samp>' in place of `<samp><span class="samp">until 1 = 0</span></samp>' &ndash; this looks smarter. Another
common situation is `<samp><span class="samp">Foo := Expression</span></samp>' instead of `<samp><span class="samp">if
Expression then Foo := True else Foo := False</span></samp>'.

   <p>Avoid duplicate global identifiers, i.e. don't overload a built-in
identifier, although the GNU Pascal Compiler allows this, and don't
use the same global identifier in several units or modules. (Thanks
to &ldquo;qualified identifiers&rdquo; such identifiers pose no problem to the
compiler but still can confuse humans.)

   <p><a name="index-global-variables-18"></a>We discourage the use of global variables for non-global purposes
(e.g., the use of a variable <code>Counter</code> used as a counter in
various local routines). Declare a counter variable for each routine
that needs it, instead. In general, this also allows for better
optimization of the code generated.

   <p><a name="index-infinite-loops-19"></a>When you need an infinite loop (which may be left with
`<samp><span class="samp">Break</span></samp>'), we suggest you use a <code>repeat</code> rather than a
<code>while</code> loop because it shifts your code less to the right (at
least, if there's more than one statement in the loop). That is:

<pre class="smallexample">     repeat
       ...
     until False
</pre>
   <p>Instead of:

<pre class="smallexample">     while True do
       begin
         ...
       end
</pre>
   <div class="node">
<p><hr>
<a name="Consistency-Checking"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Formatting">Formatting</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Assorted-Tips">Assorted Tips</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.2 Explicitly Checking Internal Consistency</h3>

<p><a name="index-consistency-checking-20"></a><a name="index-assert-21"></a>
As stated in the GNU C library documentation (see <a href="libc.html#Consistency-Checking">Consistency Checking</a>), when you're writing a program, it's often a
good idea to put in checks for violations of basic assumptions. 
Consider the following procedure in Pascal:

<pre class="smallexample">     procedure DoSomethingOnAPString (StrPtr: PString);
</pre>
   <p>You may implicitly assume that the above procedure will never be
called with <code>nil</code> as its argument, but it is safer to check for
the &ldquo;impossible condition&rdquo;, i.e. check that `<samp><span class="samp">StrPtr</span></samp>' is other
than <code>nil</code>, like this:

<pre class="smallexample">     procedure DoSomethingOnAPString (StrPtr: PString);
     begin
       Assert (StrPtr &lt;&gt; nil);
       ...
     end;
</pre>
   <p>When this check fails, the program produces a runtime error. You
then may infer that the code which calls this procedure is buggy (or
that you need to extend this particular routine), so this may indeed
be helpful in locating the problem. In other words, checking for
basic assumptions at the beginning of a routine body or other
strategic places is the right way to make sure a function isn't
being misused.

   <p>The GNU C library provides the <code>assert</code> macro for this kind of
checks. GNU Pascal provides a Pascal counterpart which is called
<code>Assert</code>, which behaves a little differently. <code>Assert</code>
won't abort your program, but rather cause a runtime error
(see <a href="gpc.html#Assert">Assert</a>) which, e.g., you can catch using the
`<samp><span class="samp">Trap</span></samp>' unit (see <a href="gpc.html#Trap">Trap</a>).

   <p>Once you think your program is debugged, you can disable the error
checks performed by the <code>Assert</code> routine by recompiling with
the `<samp><span class="samp">--no-assertions</span></samp>' switch. No change to the source code is
needed in order to disable these checks. Side-effects in the
argument to `<samp><span class="samp">Assert</span></samp>' are still evaluated (unlike in C), so it
is alright to write:

<pre class="smallexample">     Assert (MyFunction (Foo, Bar) &gt; 0)
</pre>
   <p>This will always call <code>MyFunction</code>, but only make sure that its
result is positive if `<samp><span class="samp">--no-assertions</span></samp>' is not given.

   <p>However, it is recommended that you don't disable the consistency
checks unless you can't bear the program to run a little slower.

<div class="node">
<p><hr>
<a name="Formatting"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Comments">Comments</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Consistency-Checking">Consistency Checking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.3 Formatting Your Source Code</h3>

<p><a name="index-formatting-source-code-22"></a>
<a name="index-spaces-23"></a><a name="index-blanks-24"></a>First of all, avoid unnecessary spaces at the end of the lines. Also
remember not to save the file with TAB characters, as different editors
or different configurations will interpret them with a different
amount of spaces, thus breaking indentations. (If you use GNU Emacs,
the `<samp><span class="samp">untabify</span></samp>' function comes in handy; if you use VIM, the
option `<samp><span class="samp">expandtab</span></samp>' (`<samp><span class="samp">:set et</span></samp>'); in PENG, the option
`<samp><span class="samp">Expand tabs</span></samp>' can be used.)

   <p><a name="index-control-characters-25"></a>Please avoid the use of any control characters, except newline, of
course. This means no form feed characters (`<samp><span class="samp">#12</span></samp>'), i.e. new page
characters. They are recommended in the GNU Coding Standards to
separate logical parts of a file, but don't use them at least in Pascal
code. No `<samp><span class="samp">SUB</span></samp>' character (`<samp><span class="samp">#26</span></samp>') either, misused as an
end-of-file indicator by DOS. Older DOS editors put that character at
the end of each file for no good reason, though even the FAT file system
knows about the end of a file by its own.

   <p><a name="index-line-length-26"></a>We recommend a maximum line length of 68 characters, so that it can be
printed in TeX with default font on A4, or 78 characters, for
80-column wide screens. This is not a fixed rule because breaking lines
too often decreases readability of source code.

   <p><a name="index-empty-lines-27"></a>Use empty lines between blocks. Blocks are long comments, `<samp><span class="samp">type</span></samp>',
`<samp><span class="samp">const</span></samp>', `<samp><span class="samp">var</span></samp>', `<samp><span class="samp">label</span></samp>' sections, routine bodies,
unit/module initializers/finalizers, `<samp><span class="samp">program</span></samp>', `<samp><span class="samp">unit</span></samp>',
`<samp><span class="samp">interface</span></samp>', `<samp><span class="samp">implementation</span></samp>', `<samp><span class="samp">module</span></samp>', `<samp><span class="samp">export</span></samp>',
`<samp><span class="samp">uses</span></samp>', `<samp><span class="samp">import</span></samp>' lines, global compiler directives. As far as
long comments that refer to the following declaration, put only an empty
line before the comment, not between the comment and the declaration
itself. A special exception is between blocks within the same
routine &ndash; do not use empty lines there. For example:

<pre class="smallexample">     procedure Short;
     var
       Foo: Integer;
       Bar: Char;
     begin
       ...
     end;
</pre>
   <p>But remember to use empty lines to separate subroutines, like the
following:

<pre class="smallexample">     procedure Long;
     const
       ...
     var
       variables used by Sub ...
     
       procedure Sub;
       var
         ...
       begin
         ...
       end;
     
     var
       variables not used by Sub ...
     begin
       ...
     end;
</pre>
   <p>Note that you shouldn't put an empty line after the main routine
declaration, unless a subroutine declaration immediately follows. 
Otherwise the main routine declaration would look like a forward
declaration.

   <p>Notice that in the code snippet above we separated local variables (or
constants) before and after the subroutine &ndash; this is not mandatory.

   <p>Of course, what we said for subroutines is also valid for
sub-subroutines at any depth.

   <p>An empty line should be put between declarations of the same type, where
appropriate, to separate them logically. In case there is a comment
before the declaration, the empty line must be before the comment. 
Otherwise, the empty line goes before the declaration.

   <p>Empty lines can be used in long comments to separate paragraphs.

   <p>No empty lines at the beginning or ending of a file, only one
newline at the ending. No multiple empty lines.

<div class="node">
<p><hr>
<a name="Comments"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Order">Order</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Formatting">Formatting</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.4 Commenting Your Work</h3>

<p><a name="index-commenting-28"></a>
The comments should be placed in braces like this:

<pre class="smallexample">     { This is a nice comment. }
</pre>
   <p>Do not use the old style comment between brackets and asterisks, like
this:

<pre class="smallexample">     (* This is an ugly comment. One you mustn't write. *)
</pre>
   <p>Also, do not use comments introduced by the double slash:

<pre class="smallexample">     // Another kind of comment not to write.
</pre>
   <p>Although ISO Pascal explicitly allows for mixed comments, the GNU Pascal
Compiler doesn't even accept it unless you turn it on the option with
the appropriate compiler directive `<samp><span class="samp">{$mixed-comments}</span></samp>' &ndash; but you
don't want to do it. Here are a couple of examples of mixed comments,
which you should not follow:

<pre class="smallexample">     (* This ... }
     { ... and that. *)
</pre>
   <p><a name="index-nested-comments-29"></a>Also, try to avoid nested comments, like `<samp><span class="samp">{ { This one } }</span></samp>'. 
These are alright if you want to put some TeX in a comment or
something more exotic. Whatever reason you have to use nested comments,
you need to turn on the option with the appropriate compiler switch,
which is `<samp><span class="samp">{$nested-comments}</span></samp>'. Do not use the
`<samp><span class="samp">--nested-comments</span></samp>' command line option. Put all such options in
the source, so that someone else trying to compile it doesn't have to
figure out what command line switches are needed, and because command
line options would affect <em>all</em> source files, e.g. when compiling
a project with multiple units/modules.

   <p><a name="index-comments-language-30"></a>Please write the comments in your program in English, because English is
the one language that nearly all programmers in all countries can read. 
If you do not write English well, please write comments in English as
well as you can, then ask other people to help rewrite them. If you
can't write comments in English, please find someone to work with you
and translate your comments into English.

   <p><a name="index-comments-spacing-31"></a>You should adopt &ldquo;French Spacing&rdquo;, i.e. only one space at the end
of a sentence. This way, you can't use GNU Emacs `<samp><span class="samp">M-a</span></samp>' and
`<samp><span class="samp">M-e</span></samp>' key combination to move through sentences. We hope that
you can live without that. Also, please put just one space after the
comment opening brace and before the closing brace.

   <p><a name="index-comments-placement-32"></a>If a comment regards only one line of code, possibly write it after the
line of code, in the same line, separated from the code with two spaces. 
This is also allowed for the interface section of a unit and for global
variables. Most often you are likely to write this sort of comment
beside record/object fields. In other cases, comments go in one or more
lines of their own, like this:

<pre class="smallexample">     { foo bar baz }
</pre>
   <p>Or longer:

<pre class="smallexample">     { foo bar
        baz }
</pre>
   <p>Or with paragraphs:

<pre class="smallexample">     { foo bar
        baz
     
        qux }
</pre>
   <p>The comments need to be placed before the code they describe, and they
need to get the same indentation level. This example should make this
clear:

<pre class="smallexample">     { My types. }
     type
       ...
     
     type
       { My first types. }
       Foo = Integer;
       ...
     
     begin
       { My first statement. }
       Bla;
       { Start of loop. }
       repeat
         { Body of loop. }
         ...
       { Finish when Something happens. }
       until Something
     end;
</pre>
   <p>Note the position for the comment to `<samp><span class="samp">until</span></samp>'.

   <p>Comments describing a global declaration should be on one or more
lines of their own, immediately before the declaration. For example:

<pre class="smallexample">     { This is Foo. It does this and that. }
     procedure Foo;
</pre>
   <p><a name="index-silly-comments-33"></a><a name="index-trivial-comments-34"></a>Do not write &ldquo;trivial&rdquo; comments, like the ones listed in the examples
above. You should avoid comments by writing clear code. Linus Torvalds
points this out strongly in the Kernel Coding Style:

   <blockquote>
Comments are good, but there is also a danger of over-commenting. 
<strong>Never</strong> try to explain <strong>how</strong> your code works in a comment:
it's much better to write the code so that the <em>working</em> is
obvious, and it's a waste of time to explain badly written code. 
Generally, you want your comments to tell <strong>what</strong> your code does,
not <strong>how</strong>. 
</blockquote>

   <p>(Note that we otherwise deviate quite a bit from Linus's coding style.)

   <p><a name="index-comments-about-non_002dobvious-code-35"></a><a name="index-tricky-comments-36"></a>&ldquo;Tricky&rdquo; code is worth being commented. We define &ldquo;tricky&rdquo; the code
that does non-obvious things, relies on non-obvious assumptions, has
non-obvious implications, there is anything to note when changing it, is
not what it looks at first sight, there is a side effect, or requires
other parts of the source file to be changed simultaneously with it. 
Tricky code should be used very sparingly.

   <p><a name="index-comments-to-external-sources-37"></a>In the case that a comment refers to some other place in the
code, either in the same file or in a different file, please refer to it
not by line number (this will change too often) but by routine name
or context. Also, think whether it is useful to put a comment in the
other place pointing back. (Not always, but sometimes this has
proved useful to us.)

   <p><a name="index-commenting-out-38"></a>To comment out parts of code that should not be compiled, you need to
surround it with `<samp><span class="samp">{$if False} ... {$endif}</span></samp>' rather than
using a comment.

   <p><a name="index-comments-for-separating-logical-parts-39"></a>To separate logical parts within big modules or units, you can use a
special comment &ndash; we suggest this fixed pattern as it's easily
searchable:

<pre class="smallexample">     {@section Name of the section}
     {@subsection Name of the subsection}
</pre>
   <p>Note that no space follows the opening brace nor predeces the closing
brace in this case.

   <p><a name="index-descriptive-comments-40"></a>A module or unit or library should have a comment for each of its
interface declarations, so that the interface part of the source file is
a reliable source of documentation. This is optional for any
declarations introduced only in the implementation section or in
`<samp><span class="samp">program</span></samp>'s. Of course, several related declarations (e.g.,
groups of constants) can share a comment.

   <p><a name="index-comments-with-markup-41"></a>A utility called `<samp><span class="samp">pas2texi</span></samp>' will be written to build Texinfo
files from Pascal comments. This will allow certain kinds of markup
within comments. They will be described in the documentation of
`<samp><span class="samp">pas2texi</span></samp>' and/or in future versions of this document.

   <p><a name="index-fixme-comments-42"></a>You can use &ldquo;fixme&rdquo; comments, to point out things to be fixed in the
code, or in a library (or module, or unit, or compiler used) which
directly affect the code, requiring a work-around. These comments are
prepended by at least two `<samp><span class="samp">@</span></samp>' &ndash; add as many `<samp><span class="samp">@</span></samp>' as the
urgency of the issue increases.

   <p>These comments may contain more or less obscure details about the
problem, especially if the root of the problem is elsewhere. For
example, the comment `<samp><span class="samp">{ @@fjf226 }</span></samp>' declares the following code
a work-around to a GNU Pascal Compiler problem which is demonstrated by
the GNU Pascal Compiler test program `<samp><span class="samp">fjf226.pas</span></samp>'. (It is a file
you can find in the GNU Pascal Compiler source package.)

   <p>&ldquo;Fixme&rdquo; comments should not be mixed with ordinary comments. If you
need both kinds, use them separately, even if directly after each
other. They can be used everywhere, even within statements, since they
are temporary in nature. Most normally they happen to fall in the body,
unless they influence interfaces. In particular, interfaces that are
likely to be changed should have a `<samp><span class="samp">@@</span></samp>' comment immediately
before their description comment.

<div class="node">
<p><hr>
<a name="Order"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Capitalization">Capitalization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Comments">Comments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.5 Order of Code Blocks</h3>

<p><a name="index-order-43"></a>
Please start each file with a comment containing, in this order:

     <ul>
<li>a short description telling what the code in the source file does
<li>a long description going into detail about the code and specifying
sources of information or code
<li>a copyright notification held by authors of the code
<li>the license &ndash; of course you want to use the GNU General Public License
or Lesser General Public License for your programs and units, don't you? 
</ul>

   <p><a name="index-declaration-blocks-44"></a>In general, you should follow this order for declaration blocks:

     <ul>
<li>`<samp><span class="samp">const</span></samp>' declarations
<li>`<samp><span class="samp">type</span></samp>' declarations
<li>`<samp><span class="samp">var</span></samp>' declarations
<li>`<samp><span class="samp">label</span></samp>' declarations
<li>routines
</ul>

   <p>You may deviate from this order when it is necessary or makes the code
more readable. This is an example where the order can't be respected:

<pre class="smallexample">     type
       TSomething = record
         This, That: Integer
       end;
     
     const
       SomeConst = SizeOf (TSomething);
</pre>
   <p>The rules above apply to declaration blocks within routines, too.

   <p>When there are several, more or less independent parts, especially in a
large unit or module, you may apply this order within each part. Do not
put, for example, constants of all parts together. You have to keep the
code readable.

   <p><a name="index-variable-declaration-45"></a>Variables that are used only in the main program must be declared
globally in Pascal, although GNU Pascal offers an extension for
declaring variables at arbitrary places in the code
(see <a href="gpc.html#var">var</a>). In this case, in contrast to the
previous general rule, it is often better to put their declaration just
before the main program's `<samp><span class="samp">begin</span></samp>', after all routines etc.,
especially when there are more than a few such variables and the size of
the source file is not small. Thus, the variable declaration block is
easier to see and change for the programmer when editing the main
program, and you make sure that routines don't use them accidentally.

   <p><a name="index-declarations-within-type-declarations-46"></a>When you declare a type together with its pointer type, declare the
pointer first. It is easier to recognize especially if the type is a
long record or object. Also, it makes possible using recursive
structures (i.e., using pointers to a type within this type). You
should prepend a `<samp><span class="samp">T</span></samp>' to the type name and a `<samp><span class="samp">P</span></samp>' to the
associated pointer type. See the example:

<pre class="smallexample">     type
       PMyInt = ^TMyInt;
       TMyInt = Integer;
     
       PStrList = ^TStrList;
       TStrList = record
         Next: PStrList;
         s: TString
       end;
</pre>
   <p>Note that the `<samp><span class="samp">Next</span></samp>' field is specified first. We suggest always
putting it as the first field in recursive types, as it allows some
generic list routines and may be a little more efficient to walk the
list, i.e. no offsets.

   <p>We suggest putting all pointer types within each `<samp><span class="samp">type</span></samp>' declaration
first, although we don't consider this mandatory. This is an example:

<pre class="smallexample">     type
       { Pointer types }
       PFoo = ^TFoo;
       PBar = ^TBar;
       PBaz = ^TBaz;
     
       { Some custom integer types }
       TFoo = Integer attribute (Size = 16);
       TBar = Cardinal attribute (Size = 16);
       TBaz = Cardinal attribute (Size = 32);
</pre>
   <p><a name="index-declarations-within-object-types-47"></a>Within object types you can have three declaration areas. There are
three reserved words for introducing these areas: `<samp><span class="samp">public</span></samp>',
`<samp><span class="samp">protected</span></samp>', `<samp><span class="samp">private</span></samp>'. Within each of these areas follow
this order:

     <ul>
<li>fields
<li>constructors
<li>destructor (there should be only one)
<li>methods
</ul>

   <p><a name="index-implementation-order-48"></a>In the object implementation part, put the routine bodies in the same
order in which they appear in the declaration in the interface. This
also applies to units and modules, in which the implementation should
reflect the interface declarations.

   <p>Do not use the trailing `<samp><span class="samp">;</span></samp>' at the end of a block, i.e. before
`<samp><span class="samp">end</span></samp>', `<samp><span class="samp">until</span></samp>', etc. except `<samp><span class="samp">case</span></samp>' &ndash; the last branch
before the `<samp><span class="samp">else</span></samp>' branch (or the last branch if there is no
`<samp><span class="samp">else</span></samp>' branch) <em>should</em> have a `<samp><span class="samp">;</span></samp>', to avoid problems
like:

<pre class="smallexample">     case ...
       Foo:
         if Bar then  { later inserted }
           begin
             ...
           end  { if there's no semicolon here ... }
       else  { ... this will be mistaken as the `<samp><span class="samp">then</span></samp>''s `<samp><span class="samp">else</span></samp>' }
         ...
</pre>
   <p>(Same if the `<samp><span class="samp">if</span></samp>' was there for longer and the `<samp><span class="samp">else</span></samp>' branch
of the `<samp><span class="samp">case</span></samp>' is later inserted.)

   <p>In an object, it may look strange to omit the `<samp><span class="samp">;</span></samp>' after the last
item which is most often a method. Therefore we allow it, and for
consistency also in records.

<div class="node">
<p><hr>
<a name="Capitalization"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Compiler-Directives">Compiler Directives</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Order">Order</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.6 Capitalization</h3>

<p><a name="index-capitalization-49"></a>
Reserved words should be all lower case, including directives,
i.e. words that are reserved only in some contexts, like
`<samp><span class="samp">protected</span></samp>'. If you use directives as identifiers (which is likely
to cause you pain) outside of their contexts, write them like
identifiers.

   <p>As a special exception, you can use capitalized `<samp><span class="samp">File</span></samp>' when used as
a type of its own, i.e. an untyped file, unlike `<samp><span class="samp">file of Char</span></samp>'. 
The same can't be said for `<samp><span class="samp">procedure</span></samp>' as a type (Borland Pascal
style) since `<samp><span class="samp">File</span></samp>' can be a proper type, while
`<samp><span class="samp">procedure</span></samp>' is a type constructor, i.e.:

<pre class="smallexample">     procedure Foo (var a: File);  { This works. }
     procedure Foo (var a: procedure);  { This doesn't. }
</pre>
   <p><a name="index-identifiers-capitalization-50"></a>Next issue is capitalization of identifiers. There's no difference
between built-in and user-defined identifiers. Only the first letter
should be capital, or, if there are concatenated words or acronyms, the
first letter of each word should be capital &ndash; do not use underscores. 
Acronyms that have become part of the natural language can be written
like that. For example, `<samp><span class="samp">Dos</span></samp>' or `<samp><span class="samp">DOS</span></samp>'; but always
`<samp><span class="samp">GPC</span></samp>', not `<samp><span class="samp">Gpc</span></samp>'. Here are some examples of identifiers:
`<samp><span class="samp">Copy</span></samp>', `<samp><span class="samp">Reset</span></samp>', `<samp><span class="samp">SubStr</span></samp>', `<samp><span class="samp">BlockRead</span></samp>',
`<samp><span class="samp">IOResult</span></samp>', `<samp><span class="samp">WriteLn</span></samp>', `<samp><span class="samp">Sqr</span></samp>', `<samp><span class="samp">SqRt</span></samp>',
`<samp><span class="samp">EOF</span></samp>', `<samp><span class="samp">EOLn</span></samp>'.

   <p><a name="index-constants-capitalization-51"></a>These rules apply to constants identifiers, too, unlike C macros.

   <p>Also note that very small identifiers can be written lower case,
like `<samp><span class="samp">i</span></samp>' or `<samp><span class="samp">s1</span></samp>' or `<samp><span class="samp">xx</span></samp>'. Such short identifiers
should be used only locally. They can be used for parameters of
global routines, because the scope of such parameters is local as
well, and their names in fact don't matter at all to the caller. The
use of such identifiers in a global context should be avoided,
especially in units or modules or libraries (because the author
doesn't know in which contexts they will be used).

   <p>Please be consistent with your capitalization. You know that Pascal
will not hurt you if you change capitalization for an identifier
throughout the code, but please stick to the same capitalization.

   <p><a name="index-enum-types-52"></a><a name="index-constants-53"></a>For identifiers for the values of enumeration types and for blocks
of constants, i.e. places where you introduce a lot of identifiers,
it can be useful to use a two-letter lower-case prefix and `<samp><span class="samp">_</span></samp>',
in contrast to the previous rules:

<pre class="smallexample">     type
       TFooBar = (fb_Foo, fb_Bar, fb_Baz, fb_Qux);
</pre>
   <pre class="smallexample">     { My Foos }
     const
       mf_Foo = 1;
       mf_Bar = 3;
       mf_Baz = 42;
</pre>
   <p><a name="index-OOP-54"></a>In object oriented code (especially in constructors), there is
often the need to have a parameter correspond to an object field
(e.g., to pass a value with which to initialize the field). Since
both can't be called the same, the field should have the &ldquo;natural&rdquo;
name since it's usually used in more routines, and the parameter
name should be &ldquo;mangled&rdquo;. FIXME: We haven't found a really
satisfactory rule for mangling yet (some use `<samp><span class="samp">a</span></samp>' as a prefix), and
if you have any good idea, let us know.

   <p><a name="index-macros-capitalization-55"></a>As far as macros are concerned, we strongly recommend that you do not
use them. Please, do not use macros in your programs. Try to avoid
using macros in your programs, because they are evil. We believe you
must not use macros in your code. Said that, if you still dare to use a
macro, write it capitalized entirely and separate words with
underscores. Since macros do not follow Pascal's scoping, it makes
sense to write them differently. This applies to conditionals, too.

<div class="node">
<p><hr>
<a name="Compiler-Directives"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Spacing">Spacing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Capitalization">Capitalization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.7 Use of Compiler Directives</h3>

<p><a name="index-compiler-directives-56"></a>
We generally suggest using as few compiler directives as reasonably
possible, because they make the code harder to understand (e.g.,
when checking for side-effects) and to modify (e.g., when moving
parts of code into or out of the scope of compiler directives). The
directives should be invoked like in the example:

<pre class="smallexample">     {$your-compiler-directive}
</pre>
   <p>Definitely not this way (see <a href="#Comments">Comments</a>):

<pre class="smallexample">     (*$do-not-use-such-a-compiler-directive*)
</pre>
   <p>Also, definitely not this way, which is dependent on line breaks, unlike
Pascal normally is:

<pre class="smallexample">     #your-compiler-directive
</pre>
   <p>Same goes for macro definitions:

<pre class="smallexample">     {$define ...}
</pre>
   <p>This also saves the ending backslash before line breaks, in contrast to
`<samp><span class="samp">#define</span></samp>'. But you will not use macros, will you? 
(see <a href="#Capitalization">Capitalization</a>)

   <p><a name="index-directives-spacing-57"></a>As far as spacing is concerned, don't type a space before the closing
brace, as there can't be one after the opening brace. If you
concatenate many directives together, don't put a space between each of
them, a single comma is enough.

<!-- FIXME -->
<!-- Maybe someone has good reasons to use the space after the commas. -->
<p><a name="index-comments-and-directives-58"></a>No comments should be inserted within the directives. Write them
separately, instead, like this:

<pre class="smallexample">     {$X+}  { We need extended syntax. }
</pre>
   <p>Borland Pascal allows mixing comments with directives, but it's really a
misuse.

   <p>Short forms for calling the directives are alright, but long forms are
at least as good, not to say preferred. Short forms must be written in
caps, while long forms in lower case (except for case-sensitive
arguments like messages and file names &ndash; of course, file names must
always be treated as case-sensitive, even on DOS, to preserve code
portability).

   <p>You can combine several directives, also mixing short and long ones, in
a single call, for example like the following:

<pre class="smallexample">     {$gnu-pascal,I-,X+}
</pre>
   <p><a name="index-standard-directives-59"></a>Any unit or module should have `<samp><span class="samp">{$gnu-pascal,I-}</span></samp>' or
`<samp><span class="samp">{$gnu-pascal,I+}</span></samp>' near the beginning (after the head comment
with description and license). `<samp><span class="samp">{$gnu-pascal}</span></samp>' lets the unit be
compiled without dialect options even if the main program is compiled
with some. `<samp><span class="samp">{$I-}</span></samp>' or `<samp><span class="samp">{$I+}</span></samp>' indicates to the user (even
though one of them is the default) whether the unit handles/returns
input/output errors or lets them cause runtime errors. The former is
preferable for most units. For programs, this item is optional. Routines
that return input/output errors should have the attribute
`<samp><span class="samp">iocritical</span></samp>' (see <a href="gpc.html#attribute">attribute</a>):

<pre class="smallexample">     procedure CriticalRoutine; attribute (iocritical);
</pre>
   <p><a name="index-no_002dwarning-directive-60"></a>`<samp><span class="samp">{$W-}</span></samp>' (no warnings) must only be used locally and must have a
&ldquo;fixme&rdquo; comment (see <a href="#Comments">Comments</a>) because it indicates a problem with
the code or the compiler.

   <p>Please, don't disable warnings when you're just too lazy to write the
code that does not produce warnings.

   <p><a name="index-local-directives-61"></a>Any compiler flags that are not set globally (for example, together with
`<samp><span class="samp">{$gnu-pascal}</span></samp>', see above) should be set with `<samp><span class="samp">{$local
...}</span></samp>'. In other words, not this way:

<pre class="smallexample">     {$I-} Reset (f); {$I+}
</pre>
   <p>But this way:

<pre class="smallexample">     {$local I-} Reset (f); {$endlocal}
</pre>
   <p>The former is wrong if `<samp><span class="samp">{$I-}</span></samp>' was set already. Even if a
programmer might know and take into account which is the global setting,
this might be changed sometime, or part of the code may be copied or
moved. The latter form is safer in these cases.

   <p>To make it even clearer, from the last two rules it follows:

<pre class="smallexample">     {$local W-} Foo; {$endlocal}  { @ GPC produces a superfluous warning }
</pre>
   <p>Again, try to avoid local directives. `<samp><span class="samp">{$I-}</span></samp>' is sometimes
needed. `<samp><span class="samp">{$X+}</span></samp>' might be used if <em>really</em>, <em>really</em>
necessary (as locally as possible): avoid pointer arithmetics.

   <p><a name="index-return-checks-62"></a>Don't use `<samp><span class="samp">{$X+}</span></samp>' to ignore function results, don't use
`<samp><span class="samp">{$ignore-function-results}</span></samp>', either. It is too easy to ignore a
result one should not ignore. Sometimes, especially when linking to a
foreign C library, you might have to deal with functions which have a
superfluous result, which you probably don't want to check. You can
declare such functions with the `<samp><span class="samp">ignorable</span></samp>' attribute, so that
their results are silently ignored.

   <p>Also use dummy variables if you want to ignore the result of a
particular call to a function whose result should in general not be
ignored. But in such cases check carefully whether the result can
really be ignored safely. If, however, an unexpected result would
indicate an &ldquo;impossible&rdquo; situation, it's usually better to check the
result and print a warning or abort in the unexpected case, at least if
`<samp><span class="samp">DEBUG</span></samp>' is defined (see <a href="#Compiler-Directives">Compiler Directives</a>).

   <p><a name="index-linker-directives-63"></a>Linker directives, i.e. `<samp><span class="samp">{$L}</span></samp>' for libraries and C (or other
language) source files should be put near the start in programs and
shortly after the `<samp><span class="samp">implementation</span></samp>' line in units or modules. 
Several libraries and C source files in one directive are possible
when they belong logically together (for example, a library and its
C wrappers), but not for separate things. This directive should not
be mixed with other directives (which doesn't even work if `<samp><span class="samp">L</span></samp>'
comes first &ndash; the other way around it might work, but shouldn't be
used). The external declaration of the library or C routines should
immediately follow the directive (except in a unit or module for
those that go in the interface). Using `<samp><span class="samp">{$L}</span></samp>' in programs is
often not a good idea, making a unit is often better for abstraction
and reuse.

   <p><a name="index-conditional-compilation-64"></a>Conditional compilation might be useful sometimes, but you should
use as few `<samp><span class="samp">{$ifdef}</span></samp>''s as possible, as they decrease
readability. When conditionals are used for differences between
systems, check for features (for example,
`<samp><span class="samp">__BYTES_LITTLE_ENDIAN__</span></samp>') or groups of systems (for example,
`<samp><span class="samp">__OS_DOS__</span></samp>') rather than individual systems, to better cater
for systems you don't know or that may not even exist yet.

   <p>If possible (this might not be available), use the predefined
constants (for example, `<samp><span class="samp">BytesBigEndian</span></samp>', `<samp><span class="samp">OSDosFlag</span></samp>')
rather than defines &ndash; for code that is possible (the &ldquo;always
false&rdquo; branch will be optimized away, but you still get its syntax
checked as an additional benefit besides not using the
preprocessor); for type declarations it is usually not possible and
you have to use the defines. A good example is the declaration of
`<samp><span class="samp">TWindowXY</span></samp>' in the CRT unit. See:

<pre class="smallexample">     TWindowXYInternalCard8 = Cardinal attribute (Size = 8);
     TWindowXYInternalFill = Integer attribute (Size = BitSizeOf (Word) - 16);
     TWindowXY = packed record
       {$ifdef __BYTES_BIG_ENDIAN__}
       Fill: TWindowXYInternalFill;
       y, x: TWindowXYInternalCard8
       {$elif defined (__BYTES_LITTLE_ENDIAN__)}
       x, y: TWindowXYInternalCard8;
       Fill: TWindowXYInternalFill
       {$else}
       {$error Endianness is not defined!}
       {$endif}
     end;
</pre>
   <p><a name="index-debug-flag-65"></a>The `<samp><span class="samp">DEBUG</span></samp>' flag should be used for (and only for) code to help
debugging, i.e. code which doesn't change the real functionality. 
Programs must compile with and without setting `<samp><span class="samp">DEBUG</span></samp>'. The latter
may run slower and may produce useful additional messages in a suitable
form, i.e. clearly marked as debug messages, for example prefixed with
`<samp><span class="samp">DEBUG: </span></samp>', and <em>may</em> abort when it detects erroneous or
dubious conditions.

   <p><a name="index-conditionals-and-different-versions-66"></a>Conditionals can also be used to make different versions of some code,
for example, using GMP numbers if a condition is satisfied and using
normal integers or reals otherwise (GMP is a library for working
with arbitrarily large numbers). In this case, the name and meaning
of all such defines used in a file must be explained in a comment
near the top. (For examples, see the `<samp><span class="samp">__BP_TYPE_SIZES__</span></samp>',
`<samp><span class="samp">__BP_RANDOM__</span></samp>' and `<samp><span class="samp">__BP_PARAMSTR_0__</span></samp>' in the System
unit.) The code must compile with any combination of those
conditionals set, which means you have to test exponentially many
cases &ndash; here is a good reason to keep their number as small as
possible.

   <p><a name="index-conditionals-and-different-implementations-67"></a>Another similar use of conditionals is to select between different
implementations. You should adopt this strategy <em>only</em> if all of
the implementations are really supported or planned to be supported. 
Otherwise, you'd better move the old implementations into your
&ldquo;museum&rdquo; and keep the code clean. The notes about code compilation of
the previous rule apply here as well.

   <p><a name="index-complicated-conditionals-68"></a>When you need to deal with complicated conditionals use Pascal syntax,
i.e. format the conditionals according to the rules for Pascal code,
rather than C syntax. This is a silly example:

<pre class="smallexample">     {$if defined (Foo) or False}
</pre>
   <p>Instead, this is an example not to follow:

<pre class="smallexample">     {$if defined (Foo) || 0}
</pre>
   <p>Or even worse:

<pre class="smallexample">     #if defined (Foo) || 0
</pre>
   <p><a name="index-commenting-out-code-69"></a>A special conditional can be used to comment out code temporarily. 
Here's the appropriate syntax:

<pre class="smallexample">     {$if False} ... {$endif}
</pre>
   <p><a name="index-conditionals-and-GPC-version-70"></a>A standard conditional statement should be used in programs or units or
modules you distribute to make sure that the appropriate version of the
GNU Pascal Compiler is used. You can follow this template:

<pre class="smallexample">     {$if __GPC_RELEASE__ &lt; 20020510}
     {$error This unit requires GPC release 20020510 or newer.}
     {$endif}
</pre>
   <div class="node">
<p><hr>
<a name="Spacing"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Line-Breaks">Line Breaks</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Compiler-Directives">Compiler Directives</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.8 How to use spaces in your code</h3>

<p>In general, no multiple spaces should be used except for indentation and
as indicated below.

   <p>A single space goes before and after operators, and `<samp><span class="samp">:=</span></samp>' and
`<samp><span class="samp">..</span></samp>' as well as `<samp><span class="samp">:</span></samp>' in `<samp><span class="samp">Write</span></samp>', `<samp><span class="samp">WriteLn</span></samp>' and
`<samp><span class="samp">WriteStr</span></samp>'; after the comma and other `<samp><span class="samp">:</span></samp>'. This example
ought to make it clearer:

<pre class="smallexample">     var
       Foo: Integer;
       ...
     begin
       Foo := 42;
       WriteLn (Foo + 3 : 5, ' bar')
     end;
</pre>
   <p>No space should go before unary `<samp><span class="samp">-</span></samp>'. In fact, these are the
correct forms: `<samp><span class="samp">x - 1</span></samp>', `<samp><span class="samp">-x</span></samp>', `<samp><span class="samp">-1</span></samp>'.

   <p>A space must go before the opening parenthesis (`<samp><span class="samp">(</span></samp>') and after the
closing parenthesis (`<samp><span class="samp">)</span></samp>'), unless adjacent to further parentheses,
brackets, `<samp><span class="samp">^</span></samp>', `<samp><span class="samp">;</span></samp>', `<samp><span class="samp">,</span></samp>'. In other words, a space goes
between identifiers or keywords and the opening brace (`<samp><span class="samp">(</span></samp>'). (All
the other spaces in this example are implied by the previous rule
already.) See:

<pre class="smallexample">     Foo (Bar^(Baz[Qux * (i + 2)]), Fred (i) + 3);
</pre>
   <p>For indexing arrays actually don't use a space before the opening
bracket, i.e. `<samp><span class="samp">Foo[42]</span></samp>' rather than `<samp><span class="samp">Foo [42]</span></samp>'. However,
insert a space before the opening bracket in array declarations, like:

<pre class="smallexample">     Foo: array [1 .. 42] of Integer;
</pre>
   <p>A space goes before the opening bracket of a set constructor in
some situations &ndash; those brackets should be treated like
parentheses, unlike the brackets used in array indexing. For
example:

<pre class="smallexample">     x := [0, 2 .. n];
</pre>
   <p>But:

<pre class="smallexample">     Foo ([1, 2, 3]);
</pre>
   <p>No spaces for `<samp><span class="samp">.</span></samp>' and `<samp><span class="samp">^</span></samp>':

<pre class="smallexample">     Rec.List^.Next^.Field := Foo
</pre>
   <p>As we already pointed out, a single space goes after the opening brace
and before the closing brace in comments, but not in compiler
directives. Also, and we said this already too somewhere in the manual,
two spaces go before comments after a line of code. For example:

<pre class="smallexample">     Inc (x);  { Increment x. }
</pre>
   <p><a name="index-tabular-code_002c-spacing-71"></a><a name="index-spacing_002c-tabular-code-72"></a>Optionally use additional spaces to make &ldquo;tabular&rdquo; code. In our
opinion, this increases readability a lot because the human eye and
brain is trained to recognize such structures, and similiarities and
differences between the lines can be easier seen, and when changing the
code, it's easier to find related places. An application of this
principle can be seen in interface declarations (not so much applicable
when separated by comments, but, for example, when described by a shared
comment above them all):

<pre class="smallexample">     function Pos             (const SubString, s: String): Integer;
     function LastPos         (const SubString, s: String): Integer;
     function PosCase         (const SubString, s: String): Integer;
     function LastPosCase     (const SubString, s: String): Integer;
     function CharPos         (const Chars: CharSet; const s: String): Integer;
     function LastCharPos     (const Chars: CharSet; const s: String): Integer;
     function PosFrom         (const SubString, s: String; From: Integer): Integer;
     function LastPosTill     (const SubString, s: String; Till: Integer): Integer;
     function PosFromCase     (const SubString, s: String; From: Integer): Integer;
     function LastPosTillCase (const SubString, s: String; Till: Integer): Integer;
</pre>
   <p>Also possible:

<pre class="smallexample">     procedure Foo;
     function  Bar ...;
     procedure Baz;
</pre>
   <p>And, of course:

<pre class="smallexample">     const
       FooBar = 1;
       Baz    = 2;
       Quux   = 3;
</pre>
   <p>The same &ldquo;tabular&rdquo; strategy used in interfaces and const declarations
can be used in initializers:

<pre class="smallexample">     const
       Foo: TBarArray =
         (('Foo'    ,  3),
          ('Bar baz', 42),
          (''       , -1));
</pre>
   <p>And in `<samp><span class="samp">case</span></samp>' statements:

<pre class="smallexample">     case ReadKeyWord of
       kbLeft    : if s[n] &gt; l    then Dec (s[n]) else s[n] := m[n];
       kbRight   : if s[n] &lt; m[n] then Inc (s[n]) else s[n] := l;
       kbUp      : if n &gt; 1 then Dec (n) else n := 5;
       kbDown    : if n &lt; 5 then Inc (n) else n := 1;
       kbHome    : s[n] := l;
       kbEnd     : s[n] := m[n];
       kbPgUp,
       kbCtrlPgUp: n := 1;
       kbPgDn,
       kbCtrlPgDn: n := 5;
       kbCR      : Done := True;
     end
</pre>
   <p>And optionally in other code:

<pre class="smallexample">     WriteCharAt (1, 1, 1,     Frame[1], TextAttr);
     WriteCharAt (2, 1, w - 2, Frame[2], TextAttr);
     WriteCharAt (w, 1, 1,     Frame[3], TextAttr);
</pre>
   <div class="node">
<p><hr>
<a name="Line-Breaks"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Strings">Strings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Spacing">Spacing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.9 Where to break your lines of code</h3>

<p><a name="index-line-breaks-73"></a>
A line break is optional after <em>local</em> `<samp><span class="samp">const</span></samp>', `<samp><span class="samp">type</span></samp>',
`<samp><span class="samp">var</span></samp>' declarations if they contain only a single declaration (but
it is possible to have multiple identifiers in a single line).

<pre class="smallexample">     procedure Baz;
     var Foo, Bar: Integer;
     begin
       ...
     end;
</pre>
   <p>Of course, this is also accepted:

<pre class="smallexample">     procedure Baz;
     var
       Foo, Bar: Integer;
     begin
       ...
     end;
</pre>
   <p>But don't follow this example:

<pre class="smallexample">     procedure Baz;
     var Foo, Bar: Integer;
         Qux: Real;
     begin
       ...
     end;
</pre>
   <p>If you have many declarations you can break lines several ways. The
following is the preferred form for `<samp><span class="samp">var</span></samp>' declarations:

<pre class="smallexample">     var
       Foo, Bar, Baz, Qux, Quux, Corge, Grault, Garply, Waldo, Fred,
         Plugh, Xyzzy, Thud: Integer;
</pre>
   <p>or:

<pre class="smallexample">     var
       Foo, Bar, Baz, Qux, Quux, Corge, Grault, Garply, Waldo: Integer;
       Fred, Plugh, Xyzzy, Thud: Integer;
</pre>
   <p>This one, instead, is more suitable to `<samp><span class="samp">record</span></samp>' and public
`<samp><span class="samp">object</span></samp>' fields, especially if there's a comment for many or each
of them:

<pre class="smallexample">     var
       Foo,
       Bar,
       Baz,
       Qux: Integer;
</pre>
   <p>No line break after `<samp><span class="samp">var</span></samp>' declarations within statement blocks,
because they allow only one declaration, and doing a line break would
look like further ones were allowed.

<pre class="smallexample">     Foo := Bar;
     var Baz: array [1 .. Foo] of Integer;
</pre>
   <p>As they are a GNU Pascal extension, use these declarations sparingly,
for example for variables whose size depends on values computed within
the routine, or for variables within unit or module initializers or
finalizers to avoid global variables, although you might want to think
about using a subroutine.

   <p><a name="index-label-spacing-74"></a>Do not insert a line break after `<samp><span class="samp">label</span></samp>'. This is how you should
declare labels:

<pre class="smallexample">     label Foo, Bar, Baz;
</pre>
   <p>And, for completeness, here's how not to do it:

<pre class="smallexample">     label
       Foo,
       Bar,
       Baz;
</pre>
   <p>Several declarations in different lines don't even work:

<pre class="smallexample">     label
       Foo;
       Bar;
       Baz;
</pre>
   <p><a name="index-case-and-line-breaks-75"></a>Here's an example on how to use line breaks within a case statement.

<pre class="smallexample">     case
       foo:
         begin
           ...
         end;
       bar,
       baz .. qux:
         ...
       else
         ...
     end;
</pre>
   <p>Or (&ldquo;tabular&rdquo;):

<pre class="smallexample">     case
       foo:        begin
                     ...
                   end;
       bar,
       baz .. qux: ...
       else        ...
     end;
</pre>
   <p><a name="index-breaking-long-lines-76"></a>Long statements or declarations should be broken either always before
operators or always after them (where the extent of always is at least
one routine) or after a comma, with indentation such as to make the
meaning clear:

<!-- FIXME -->
<!-- I don't think it's consistent to allow both before and after. -->
<pre class="smallexample">     if (x = y)
        and (foo
             or (bar
                 and (baz or qux))
             or fred) then
</pre>
   <p>or:

<pre class="smallexample">     if (x = y) and
        (foo or
         (bar and
          (baz or qux)) or
         fred) then
</pre>
   <p><a name="index-if-then-else-statements-and-line-breaks-77"></a>Here's how to use line breaks within if-then-else statements. Another
use for it is where you would use a `<samp><span class="samp">case</span></samp>' statement if it was
possible, but it isn't possible (for example because the types are not
ordinal, or the values to be compared to are not constant, or the
comparison involves a function (`<samp><span class="samp">StrEqualCase</span></samp>', or there are
additional conditions).

<pre class="smallexample">     if ... then
       a
     else if ... then
       b
     else
       c
</pre>
   <p>If `<samp><span class="samp">a</span></samp>' and non-`<samp><span class="samp">a</span></samp>' are main cases, and `<samp><span class="samp">b</span></samp>' and `<samp><span class="samp">c</span></samp>'
are sub-cases of non-`<samp><span class="samp">a</span></samp>', use the following (the distinction might
be a matter of taste sometimes):

<pre class="smallexample">     if ... then
       a
     else
       if ... then
         b
       else
         c
</pre>
   <p>The following (biologically quite incomplete) example contains a
mixture of both forms which we consider reasonable:

<pre class="smallexample">     if Habitat = 'Water' then
       { Animals living in water }
       WriteLn ('Is it a fish?')
     else if Habitat = 'Air' then
       { Animals living in air }
       WriteLn ('Is it a bird?')
     else
       { Animals living on land }
       if Legs = 8 then
         WriteLn ('Is it a spider?')
       else
         WriteLn ('Is it a gnu?')
</pre>
   <p>The main cases are determined by the habitat, and the number of legs
determines some sub-cases.

   <p><a name="index-control-loops-78"></a>For normal control loops here's a brief list of possibilities:

<pre class="smallexample">     for ... do
       ...
</pre>
   <pre class="smallexample">     while ... do
       ...
</pre>
   <pre class="smallexample">     repeat
       ...
     until ...
</pre>
   <p>If there is only one command after the `<samp><span class="samp">if</span></samp>' clause, or in a
`<samp><span class="samp">for</span></samp>' or `<samp><span class="samp">while</span></samp>' loop, or between `<samp><span class="samp">repeat</span></samp>' and
`<samp><span class="samp">until</span></samp>', and if that command is short enough, you can put the
statement on one line only, like this:

<pre class="smallexample">     if ... then ...
</pre>
   <pre class="smallexample">     for ... do ...
</pre>
   <pre class="smallexample">     while ... do ...
</pre>
   <pre class="smallexample">     repeat ... until ...
</pre>
   <p>Here's how to behave when `<samp><span class="samp">begin</span></samp>' and `<samp><span class="samp">end</span></samp>' are involved.

<pre class="smallexample">     if ... then
       begin
         ...
       end
</pre>
   <pre class="smallexample">     for ... do
       begin
         ...
       end
</pre>
   <pre class="smallexample">     while ... do
       begin
         ...
       end
</pre>
   <p><a name="index-indentation-79"></a>The indentation is 2 characters wide, for each `<samp><span class="samp">begin</span></samp>',
`<samp><span class="samp">then</span></samp>', `<samp><span class="samp">else</span></samp>', `<samp><span class="samp">case</span></samp>', `<samp><span class="samp">do</span></samp>' (`<samp><span class="samp">for</span></samp>',
`<samp><span class="samp">while</span></samp>', `<samp><span class="samp">with</span></samp>', `<samp><span class="samp">to begin</span></samp>', `<samp><span class="samp">to end</span></samp>'),
`<samp><span class="samp">repeat</span></samp>', `<samp><span class="samp">record</span></samp>', `<samp><span class="samp">object</span></samp>', `<samp><span class="samp">type</span></samp>',
`<samp><span class="samp">const</span></samp>', `<samp><span class="samp">var</span></samp>', `<samp><span class="samp">label</span></samp>'.

   <p>The bodies and local variables etc. of global routines must not be
indented, just like global variables etc. Each subroutine (header
and body) and its declarations, on the contrary, must be indented.

<pre class="smallexample">     program Prog;
     
     var
       GlobalVar: Integer;
     
     procedure GlobalProc;
     var LocalVar: Integer;
     
       procedure LocalProc;
       var LocalLocalVar: Integer;
       begin
         WriteLn ('This is a local procedure.')
       end;
     
     begin
       WriteLn ('This is a global procedure.')
     end;
     
     begin
       WriteLn ('This is the main program.')
     end.
</pre>
   <p>Variant records should be indented as follows:

<pre class="smallexample">     type
       Foo = record
         NonVariant: Foo;
       case Discriminant: Bar of
         Val1: (Variant1: Baz;
                Variant2: Qux);
         Val2: (Variant3: Fred)
       end;
     
     var
       Foo: record
         [ as above ]
       end = [ initializer ]
</pre>
   <p>Bigger indentation, i.e. more than 2 characters wide, can be used to
break statements or declarations or to get a &ldquo;tabular&rdquo; code.

   <p>Conditionals (`<samp><span class="samp">{$ifdef}</span></samp>') should be on the same indentation level
as the code they affect:

<pre class="smallexample">     begin
       {$ifdef DEBUG}
       WriteLn ('Debugging version');
       {$endif}
       ...
     end;
</pre>
   <p>Short conditionals which affect only an expression can be written within
a single line:

<pre class="smallexample">     Foo := {$ifdef DEBUG} 'debug' {$else} 'release' {$endif};
</pre>
   <p>If they are intentionally used in a way contrary to normal syntactic
rules, put them where they seem to fit best and write a comment:

<pre class="smallexample">     begin
       { Do the code unconditionally if debugging }
       {$ifndef DEBUG}
       if SomeCondition then
       {$endif}
         begin
           ...
         end
     end;
</pre>
   <p>Most times you will find a nicer and not less efficient way of writing
the same statements. In this case, it can be done this way:

<pre class="smallexample">     begin
       if {$ifdef DEBUG} True {$else} SomeCondition {$endif} then
         begin
           ...
         end
     end;
</pre>
   <p>Or better yet:

<pre class="smallexample">     { globally }
     const
       DebugFlag = {$ifdef DEBUG} True {$else} False {$endif};
     
     begin
       if DebugFlag or SomeCondition then
         begin
           ...
         end
     end;
</pre>
   <div class="node">
<p><hr>
<a name="Strings"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Internationalization">Internationalization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Breaks">Line Breaks</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.10 Strings</h3>

<p><a name="index-strings-80"></a>
Most rules we have covered so far do not apply within strings. In
general, messages contained in strings should follow the GNU Coding
Standards, for example, put quoted names within `<samp><span class="samp">`</span></samp>' and `<samp><span class="samp">'</span></samp>',
although this means you have to double the `<samp><span class="samp">'</span></samp>' in a Pascal string. 
See <a href="standards.html#Errors">Errors</a>, for more information.

   <p>Normally you should use strings enclosed in single quotes, like
`<samp><span class="samp">'this nice string that you are reading'</span></samp>'. Use strings in double
quotes when you need C style escape sequences like `<samp><span class="samp">"\t"</span></samp>'. Note
that `<samp><span class="samp">NewLine</span></samp>' (`<samp><span class="samp">"\n"</span></samp>') is predefined, so using `<samp><span class="samp">NewLine</span></samp>'
is preferable unless you have to use a C style string for other
purposes.

   <p>You can use multiline strings like the following:

<pre class="smallexample">     WriteLn ('Hello
     world')
</pre>
   <p>or (perhaps preferable, especially if the text in the string contains
paragraphs and/or indentation itself):

<pre class="smallexample">     WriteLn (
     'Hello
     world')
</pre>
   <p>However, it is also possible to use:

<pre class="smallexample">     WriteLn ('Hello' + NewLine + 'world')
</pre>
   <p>(Note that the above example won't compile without using the
<code>GPC</code> unit.)

   <p>Or, of course:

<pre class="smallexample">     WriteLn ('Hello');
     WriteLn ('world')
</pre>
   <p>When you want to check if a string is empty, use this syntax:

<pre class="smallexample">     if s = '' then
       ...
</pre>
   <p>The GNU Pascal Compiler will eventually optimize it to the following
more efficient test, hence you can use the previous, shorter one
with no regret:

<pre class="smallexample">     if Length (s) = 0 then
       ...
</pre>
   <p>The same applies for `<samp><span class="samp">&lt;&gt;</span></samp>', of course, and even for assignments
where `<samp><span class="samp">s := ''</span></samp>' is the recommended form and will be optimized
by GPC to `<samp><span class="samp">SetLength (s, 0)</span></samp>'.

<div class="node">
<p><hr>
<a name="Internationalization"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#MemoryMap">MemoryMap</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Strings">Strings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.11 Techniques for internationalization</h3>

<p><a name="index-internationalization-81"></a>
Please note the description in the GPC manual on how to
do so (see <a href="gpc.html#I18N">I18N</a>).

<div class="node">
<p><hr>
<a name="MemoryMap"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Internationalization">Internationalization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Writing-Pascal">Writing Pascal</a>

</div>

<h3 class="section">5.12 MemoryMap</h3>

<p><a name="index-MemoryMap-82"></a>
This section of the GNU Coding Standards also applies to GNU Pascal. 
Remember that `<samp><span class="samp">mmap</span></samp>' actually means `<samp><span class="samp">MemoryMap</span></samp>' in this
context. See <a href="standards.html#Mmap">Mmap</a>.

<div class="node">
<p><hr>
<a name="Documentation"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Managing-Releases">Managing Releases</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Writing-Pascal">Writing Pascal</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Documenting Programs</h2>

<p><a name="index-documentation-83"></a>
We recommend reading the respective section in the GNU Coding Standards,
as it applies to this context, too. See <a href="standards.html#Documentation">Documentation</a>. There are some notes worth writing here, though.

   <p>As far as man pages are concerned, it would be nice to have a man
page referring to the Info documentation. There is a GNU program,
called `<samp><span class="samp">help2man</span></samp>', which generates a man page based on the
`<samp><span class="samp">--help</span></samp>' and `<samp><span class="samp">--version</span></samp>' outputs of a program. It works
well, except that it always prints `<samp><span class="samp">FSF</span></samp>' which is not correct
for all programs compiled with the GNU Pascal Compiler, but the
output can easily be changed (for example, automatically using
`<samp><span class="samp">sed</span></samp>').

   <p>However, don't put too much effort in man pages. They might be feasible
initially, but keeping them up to date together with the Texinfo
files means a lot of work. On top of that, if you don't keep them
updated, they are likely to cause more confusion than they help.

   <p>On the one hand, if man pages are shortened too much they are likely to
miss important information. On the other hand, if not shortened, they
get hard to navigate.

   <p>In other words, devote to Info (i.e., Texinfo) documentation.

<div class="node">
<p><hr>
<a name="Managing-Releases"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Glossary">Glossary</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Documentation">Documentation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 The Release Process</h2>

<p><a name="index-releasing-84"></a>
Please read the respective chapter in the GNU Coding Standards. 
Note that the huge auto-tools effort of C is not needed for normal
GNU Pascal programs. Also Makefiles are often not necessary in GNU
Pascal. See <a href="standards.html#Managing-Releases">Managing Releases</a>.

<ul class="menu">
<li><a accesskey="1" href="#Makefile-Conventions">Makefile Conventions</a>:            Makefile Conventions
</ul>

<div class="node">
<p><hr>
<a name="Makefile-Conventions"></a>
Up:&nbsp;<a rel="up" accesskey="u" href="#Managing-Releases">Managing Releases</a>

</div>

<h3 class="section">7.1 Makefile Conventions</h3>

<p><a name="index-makefile-conventions-85"></a>
For your Pascal project you probably won't need large `<samp><span class="samp">Makefile</span></samp>'s
and you won't need to use `<samp><span class="samp">autoconf</span></samp>' or `<samp><span class="samp">automake</span></samp>'. You can
give the `<samp><span class="samp">--automake</span></samp>' to the GNU Pascal Compiler so that it takes
care of dependencies for you. (As of this writing, the GNU Pascal
Compiler's `<samp><span class="samp">automake</span></samp>' feature has some slight bugs, but they
will be fixed. Also, there is a plan for a utility called `<samp><span class="samp">gp</span></samp>',
which is now under development, which will simplify the compilation
process a lot more. Stay tuned. In any case, you usually don't need
to write complex `<samp><span class="samp">Makefile</span></samp>'s yourself.)

   <p>A <em>simple</em> Makefile may be in order, like:

<pre class="smallexample">     GPC_FLAGS=-O2
     
     all: foo
     
     foo: foo.pas unit1.pas
     	gpc --automake $(GPC_FLAGS) foo.pas
     
     mostlyclean:
     	-rm -f *.o *.gpi *.gpd core
     
     clean: mostlyclean
     	-rm -f foo
     
     distclean: clean
     
     extraclean: distclean
     	-rm -f *~*
     
     maintainer-clean: extraclean
</pre>
   <p>You may, however, want to put other rules into a `<samp><span class="samp">Makefile</span></samp>' to
build documentation, data files, making distributions or whatever. 
Such things are outside of the scope of this text. You can usually
do the Pascal compilations with a single `<samp><span class="samp">gpc --automake</span></samp>' call
per program.

<div class="node">
<p><hr>
<a name="Glossary"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Index">Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Managing-Releases">Managing Releases</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Glossary of words used throughout this text</h2>

<p><a name="index-glossary-86"></a>
Routines are `<samp><span class="samp">procedure</span></samp>'s, `<samp><span class="samp">function</span></samp>'s,
`<samp><span class="samp">constructor</span></samp>'s, `<samp><span class="samp">destructor</span></samp>'s or (user-defined) operators.

   <p>Declarations are those parts of a program that &ldquo;announce&rdquo; the
existence and properties of certain objects like constants, types,
variables, routines, units, modules and the program.

   <p>Statements are those parts of a program that actually &ldquo;do&rdquo;
something. A single statement is an assignment, a procedure call, a
jumping statement (`<samp><span class="samp">goto</span></samp>', `<samp><span class="samp">Exit</span></samp>', `<samp><span class="samp">Return</span></samp>',
`<samp><span class="samp">Break</span></samp>', `<samp><span class="samp">Continue</span></samp>'), an assembler statement, or a
compound statement (`<samp><span class="samp">begin</span></samp>' <small class="dots">...</small> `<samp><span class="samp">end</span></samp>', `<samp><span class="samp">if</span></samp>',
`<samp><span class="samp">case</span></samp>', `<samp><span class="samp">repeat</span></samp>', `<samp><span class="samp">while</span></samp>', `<samp><span class="samp">for</span></samp>', `<samp><span class="samp">with</span></samp>')
which in turn may contain one or several statements.

   <p>Identifiers are those language elements that give names to objects like
routines, constants, types, variables, units, modules. They can be
(locally) redefined, unlike keywords which are part of fixed syntactic
constructs (for example `<samp><span class="samp">if</span></samp>' <small class="dots">...</small> `<samp><span class="samp">then</span></samp>' <small class="dots">...</small>
`<samp><span class="samp">else</span></samp>') and cannot be redefined. Macros are no language elements
at all since they are expanded by the preprocessor and never seen
by the compiler.

   <p>Endianness means the order in which the bytes of a value larger than
one byte are stored in memory. This affects, e.g., integer values
and pointers while, e.g., arrays of single-byte characters are not
affected. (see <a href="gpc.html#Endianness">Endianness</a>)

   <p><em>Note:</em> Other items may be inserted here when it appears
useful. If you'd like a definition of some other term, let us know.

<div class="node">
<p><hr>
<a name="Index"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Glossary">Glossary</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Index</h2>

<ul class="index-cp" compact>
<li><a href="#index-assert-21">assert</a>: <a href="#Consistency-Checking">Consistency Checking</a></li>
<li><a href="#index-assorted-tips-16">assorted tips</a>: <a href="#Assorted-Tips">Assorted Tips</a></li>
<li><a href="#index-blanks-24">blanks</a>: <a href="#Formatting">Formatting</a></li>
<li><a href="#index-booleans-17">booleans</a>: <a href="#Assorted-Tips">Assorted Tips</a></li>
<li><a href="#index-breaking-long-lines-76">breaking long lines</a>: <a href="#Line-Breaks">Line Breaks</a></li>
<li><a href="#index-C-code-compilation-12">C code compilation</a>: <a href="#Pascal-and-C">Pascal and C</a></li>
<li><a href="#index-capitalization-49">capitalization</a>: <a href="#Capitalization">Capitalization</a></li>
<li><a href="#index-case-and-line-breaks-75">case and line breaks</a>: <a href="#Line-Breaks">Line Breaks</a></li>
<li><a href="#index-commenting-28">commenting</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-commenting-out-38">commenting out</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-commenting-out-code-69">commenting out code</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-comments-about-non_002dobvious-code-35">comments about non-obvious code</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-comments-and-directives-58">comments and directives</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-comments-for-separating-logical-parts-39">comments for separating logical parts</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-comments-language-30">comments language</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-comments-placement-32">comments placement</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-comments-spacing-31">comments spacing</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-comments-to-external-sources-37">comments to external sources</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-comments-with-markup-41">comments with markup</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-compiler-directives-56">compiler directives</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-complicated-conditionals-68">complicated conditionals</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-conditional-compilation-64">conditional compilation</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-conditionals-and-different-implementations-67">conditionals and different implementations</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-conditionals-and-different-versions-66">conditionals and different versions</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-conditionals-and-GPC-version-70">conditionals and GPC version</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-consistency-checking-20">consistency checking</a>: <a href="#Consistency-Checking">Consistency Checking</a></li>
<li><a href="#index-constants-53">constants</a>: <a href="#Capitalization">Capitalization</a></li>
<li><a href="#index-constants-capitalization-51">constants capitalization</a>: <a href="#Capitalization">Capitalization</a></li>
<li><a href="#index-contributions-to-this-manual-4">contributions to this manual</a>: <a href="#Preface">Preface</a></li>
<li><a href="#index-control-characters-25">control characters</a>: <a href="#Formatting">Formatting</a></li>
<li><a href="#index-control-loops-78">control loops</a>: <a href="#Line-Breaks">Line Breaks</a></li>
<li><a href="#index-debug-flag-65">debug flag</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-declaration-blocks-44">declaration blocks</a>: <a href="#Order">Order</a></li>
<li><a href="#index-declarations-within-object-types-47">declarations within object types</a>: <a href="#Order">Order</a></li>
<li><a href="#index-declarations-within-type-declarations-46">declarations within type declarations</a>: <a href="#Order">Order</a></li>
<li><a href="#index-descriptive-comments-40">descriptive comments</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-directives-spacing-57">directives spacing</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-documentation-83">documentation</a>: <a href="#Documentation">Documentation</a></li>
<li><a href="#index-downloading-the-coding-standards-2">downloading the coding standards</a>: <a href="#Preface">Preface</a></li>
<li><a href="#index-empty-lines-27">empty lines</a>: <a href="#Formatting">Formatting</a></li>
<li><a href="#index-enum-types-52">enum types</a>: <a href="#Capitalization">Capitalization</a></li>
<li><a href="#index-error-checks-15">error checks</a>: <a href="#Program-Behavior">Program Behavior</a></li>
<li><a href="#index-feedback-3">feedback</a>: <a href="#Preface">Preface</a></li>
<li><a href="#index-fixme-comments-42">fixme comments</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-formatting-source-code-22">formatting source code</a>: <a href="#Formatting">Formatting</a></li>
<li><a href="#index-global-variables-18">global variables</a>: <a href="#Assorted-Tips">Assorted Tips</a></li>
<li><a href="#index-glossary-86">glossary</a>: <a href="#Glossary">Glossary</a></li>
<li><a href="#index-header-translator-11">header translator</a>: <a href="#Pascal-and-C">Pascal and C</a></li>
<li><a href="#index-identifiers-capitalization-50">identifiers capitalization</a>: <a href="#Capitalization">Capitalization</a></li>
<li><a href="#index-if-then-else-statements-and-line-breaks-77">if then else statements and line breaks</a>: <a href="#Line-Breaks">Line Breaks</a></li>
<li><a href="#index-implementation-order-48">implementation order</a>: <a href="#Order">Order</a></li>
<li><a href="#index-indentation-79">indentation</a>: <a href="#Line-Breaks">Line Breaks</a></li>
<li><a href="#index-infinite-loops-19">infinite loops</a>: <a href="#Assorted-Tips">Assorted Tips</a></li>
<li><a href="#index-internationalization-81">internationalization</a>: <a href="#Internationalization">Internationalization</a></li>
<li><a href="#index-label-spacing-74">label spacing</a>: <a href="#Line-Breaks">Line Breaks</a></li>
<li><a href="#index-legal-aspects-5">legal aspects</a>: <a href="#Legal-Issues">Legal Issues</a></li>
<li><a href="#index-line-breaks-73">line breaks</a>: <a href="#Line-Breaks">Line Breaks</a></li>
<li><a href="#index-line-length-26">line length</a>: <a href="#Formatting">Formatting</a></li>
<li><a href="#index-linker-directives-63">linker directives</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-linking-to-C-libraries-9">linking to C libraries</a>: <a href="#Pascal-and-C">Pascal and C</a></li>
<li><a href="#index-local-directives-61">local directives</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-macros-capitalization-55">macros capitalization</a>: <a href="#Capitalization">Capitalization</a></li>
<li><a href="#index-makefile-conventions-85">makefile conventions</a>: <a href="#Makefile-Conventions">Makefile Conventions</a></li>
<li><a href="#index-MemoryMap-82"><code>MemoryMap</code></a>: <a href="#MemoryMap">MemoryMap</a></li>
<li><a href="#index-nested-comments-29">nested comments</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-no_002dwarning-directive-60">no-warning directive</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-non_002dstandard-extensions-13">non-standard extensions</a>: <a href="#Using-Extensions">Using Extensions</a></li>
<li><a href="#index-OOP-54">OOP</a>: <a href="#Capitalization">Capitalization</a></li>
<li><a href="#index-order-43">order</a>: <a href="#Order">Order</a></li>
<li><a href="#index-Pascal-and-C-8">Pascal and C</a>: <a href="#Pascal-and-C">Pascal and C</a></li>
<li><a href="#index-program-design-6">program design</a>: <a href="#Design-Advice">Design Advice</a></li>
<li><a href="#index-programming-languages-7">programming languages</a>: <a href="#Source-Language">Source Language</a></li>
<li><a href="#index-releasing-84">releasing</a>: <a href="#Managing-Releases">Managing Releases</a></li>
<li><a href="#index-return-checks-62">return checks</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-signal-functions-14">signal functions</a>: <a href="#Program-Behavior">Program Behavior</a></li>
<li><a href="#index-silly-comments-33">silly comments</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-spaces-23">spaces</a>: <a href="#Formatting">Formatting</a></li>
<li><a href="#index-spacing_002c-tabular-code-72">spacing, tabular code</a>: <a href="#Spacing">Spacing</a></li>
<li><a href="#index-standard-directives-59">standard directives</a>: <a href="#Compiler-Directives">Compiler Directives</a></li>
<li><a href="#index-strings-80">strings</a>: <a href="#Strings">Strings</a></li>
<li><a href="#index-tabular-code_002c-spacing-71">tabular code, spacing</a>: <a href="#Spacing">Spacing</a></li>
<li><a href="#index-tricky-comments-36">tricky comments</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-trivial-comments-34">trivial comments</a>: <a href="#Comments">Comments</a></li>
<li><a href="#index-variable-declaration-45">variable declaration</a>: <a href="#Order">Order</a></li>
<li><a href="#index-where-to-obtain-the-GPCS-1">where to obtain the GPCS</a>: <a href="#Preface">Preface</a></li>
<li><a href="#index-wrappers-10">wrappers</a>: <a href="#Pascal-and-C">Pascal and C</a></li>
</ul>
<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Version</a>
<li><a name="toc_Preface" href="#Preface">1 About the GNU Pascal Coding Standards</a>
<li><a name="toc_Legal-Issues" href="#Legal-Issues">2 Keeping Free Software Free</a>
<li><a name="toc_Design-Advice" href="#Design-Advice">3 General Program Design</a>
<ul>
<li><a href="#Source-Language">3.1 Which Language to Use</a>
<li><a href="#Pascal-and-C">3.2 Linking to C libraries</a>
<li><a href="#Using-Extensions">3.3 Using Non-standard Features</a>
</li></ul>
<li><a name="toc_Program-Behavior" href="#Program-Behavior">4 Program Behavior for All Programs</a>
<li><a name="toc_Writing-Pascal" href="#Writing-Pascal">5 Making The Best Use of Pascal</a>
<ul>
<li><a href="#Assorted-Tips">5.1 Assorted Pascal Programming Tips</a>
<li><a href="#Consistency-Checking">5.2 Explicitly Checking Internal Consistency</a>
<li><a href="#Formatting">5.3 Formatting Your Source Code</a>
<li><a href="#Comments">5.4 Commenting Your Work</a>
<li><a href="#Order">5.5 Order of Code Blocks</a>
<li><a href="#Capitalization">5.6 Capitalization</a>
<li><a href="#Compiler-Directives">5.7 Use of Compiler Directives</a>
<li><a href="#Spacing">5.8 How to use spaces in your code</a>
<li><a href="#Line-Breaks">5.9 Where to break your lines of code</a>
<li><a href="#Strings">5.10 Strings</a>
<li><a href="#Internationalization">5.11 Techniques for internationalization</a>
<li><a href="#MemoryMap">5.12 MemoryMap</a>
</li></ul>
<li><a name="toc_Documentation" href="#Documentation">6 Documenting Programs</a>
<li><a name="toc_Managing-Releases" href="#Managing-Releases">7 The Release Process</a>
<ul>
<li><a href="#Makefile-Conventions">7.1 Makefile Conventions</a>
</li></ul>
<li><a name="toc_Glossary" href="#Glossary">8 Glossary of words used throughout this text</a>
<li><a name="toc_Index" href="#Index">Index</a>
</li></ul>
</div>

</body></html>

