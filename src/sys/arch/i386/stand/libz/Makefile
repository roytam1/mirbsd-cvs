# $MirOS: src/sys/arch/i386/stand/libz/Makefile,v 1.7 2007/03/02 03:13:26 tg Exp $

.include <bsd.own.mk>

# This is needed for libz in the boot loader
S=		${.CURDIR}/../../../..
CPPFLAGS+=	${SACFLAGS:M-[DI]*} -I${S}/lib/libsa
COPTS+=		${SACFLAGS:N-[DI]*} ${DEBUGFLAGS}
CPPFLAGS+=	-DZCONST=const

# This is used to build a small libz
CPPFLAGS+=	-DSLOW -DSMALL -DNOBYFOUR -DNO_GZIP
CPPFLAGS+=	-DDYNAMIC_CRC_TABLE -DBUILDFIXED

LIB=		z
SRCS=		crc32.c infback.c inffast.c inflate.c inftrees.c
.PATH: ${BSDSRCDIR}/lib/libz

NOPIC=		Yes
DEBUGLIBS=	No

install:

.include <bsd.lib.mk>
